"use strict";(self["webpackChunkvideoproject"]=self["webpackChunkvideoproject"]||[]).push([[256],{2256:function(e,t,i){i.r(t),i.d(t,{default:function(){return p}});var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"buyershow"}},[t("el-backtop",{attrs:{target:"#buyershow"}},[t("i",{staticClass:"iconfont icon-fhdb1",staticStyle:{color:"#999"}})]),t("div",{staticClass:"banxin"},[e.isloading?t("div",{staticClass:"loading"}):e._e(),t("div",{staticClass:"searchfor"},[t("div",{staticClass:"module"},[t("ul",[t("li",{class:{Selectedscreen:0==e.screenIndex},on:{click:function(t){e.screenIndex=0}}},[e._v("综合")]),t("li",{class:{Selectedscreen:1==e.screenIndex},on:{click:function(t){e.screenIndex=1}}},[e._v("红人")]),t("li",{class:{Selectedscreen:3==e.screenIndex},on:{click:function(t){e.screenIndex=3}}},[e._v("案例")])]),t("div",{staticClass:"segmentation"})]),t("el-input",{staticClass:"inp",attrs:{placeholder:e.searchhint},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getRenderingData.apply(null,arguments)}},model:{value:e.searchforval,callback:function(t){e.searchforval=t},expression:"searchforval"}}),t("el-button",{staticClass:"searchforbtn",on:{click:e.getRenderingData}},[e._v("搜索")])],1),t("div",{staticClass:"screen"},[t("div",{staticClass:"filter_header"},[t("div",{staticClass:"filter_item"},[t("span",[e._v("达人性别")]),t("el-radio-group",{on:{change:function(t){return e.handlerSearchList("genderdata",e.genderValue)}},model:{value:e.genderValue,callback:function(t){e.genderValue=t},expression:"genderValue"}},[t("el-radio-button",{attrs:{label:""}},[e._v("全部")]),t("el-radio-button",{attrs:{label:"male"}},[e._v("男性")]),t("el-radio-button",{attrs:{label:"female"}},[e._v("女性")])],1)],1),t("div",{staticClass:"filter_item"},[t("span",[e._v("产品品类")]),t("el-radio-group",{on:{change:function(t){return e.handlerSearchList("category_id",e.categoryValue)}},model:{value:e.categoryValue,callback:function(t){e.categoryValue=t},expression:"categoryValue"}},[t("el-radio-button",{attrs:{label:""}},[e._v("全部")]),e._l(e.categoryList,(function(i,s){return t("el-radio-button",{key:s,attrs:{label:i.id}},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticStyle:{height:"1px","background-color":"#eee"}}),t("div",{staticClass:"filter_item",staticStyle:{"margin-top":"10px"}},[t("span",[e._v("主题专区")]),t("el-radio-group",{on:{change:function(t){return e.handlerSearchList("theme_id",e.themeValue)}},model:{value:e.themeValue,callback:function(t){e.themeValue=t},expression:"themeValue"}},[t("el-radio-button",{attrs:{label:""}},[e._v(" 全部 ")]),e._l(e.themeList,(function(s,a){return t("el-radio-button",{key:a,attrs:{label:s.id}},[t("div",{staticStyle:{"text-align":"center",position:"relative","padding-left":"23px"}},[t("img",{staticStyle:{position:"absolute",left:"0",top:"-6px"},attrs:{src:i(6741)}}),e._v(" "+e._s(s.name)+" ")])])}))],2)],1)])]),t("div",{staticClass:"seek"},[t("div",{staticClass:"seek_div"},[t("div",{staticClass:"seek_div_left"},[t("div",{staticClass:"seek_div_span"},[e._v("找到 "+e._s(e.total)+" 个")])]),t("div",{staticClass:"seek_div_rigth"},[t("div",{staticClass:"seek_sort",on:{click:function(t){return e.SwitchSorting("number")}}},[t("span",[e._v("编号")]),t("div",{staticClass:"seek_icon"},[t("i",{staticClass:"el-icon-caret-top",class:{Selected:1==e.SelectedNumber}}),t("i",{staticClass:"el-icon-caret-bottom",class:{Selected:2==e.SelectedNumber}})])]),t("div",{staticClass:"seek_sort",on:{click:function(t){return e.SwitchSorting("price")}}},[t("span",[e._v("价格")]),t("div",{staticClass:"seek_icon"},[t("i",{staticClass:"el-icon-caret-top",class:{Selected:1==e.SelectedPrice}}),t("i",{staticClass:"el-icon-caret-bottom",class:{Selected:2==e.SelectedPrice}})])]),t("div",{staticClass:"seek_divd"},[t("span",[e._v("价格 ≤")]),t("el-input",{staticClass:"priceinp",on:{change:e.getRenderingData},model:{value:e.priceval,callback:function(t){e.priceval=t},expression:"priceval"}}),t("span",[e._v("元")])],1)])])]),t("div",{staticClass:"product"},[0!=e.datalist.length?t("ul",{staticClass:"product_ul"},e._l(e.datalist,(function(i,s){return t("li",{key:i.user_id,staticClass:"product_li"},[t("div",{staticClass:"product_li_img",on:{click:function(t){return e.gohomepage(i.id,i.user_id)}}},[t("img",{attrs:{src:i.image}})]),t("div",{staticClass:"product_list"},[t("div",{staticClass:"product_list_div1"},[t("div",{staticClass:"product_list_left"},[t("div",{staticClass:"product_list_no"},[e._v("No."+e._s(i.user_id))]),"影响力者"==i.type?t("div",{staticClass:"product_list_typelv"},[e._v(" "+e._s(i.type)+" ")]):e._e(),"社媒红人"==i.type?t("div",{staticClass:"product_list_typeho"},[e._v(" "+e._s(i.type)+" ")]):e._e(),"数字人"==i.type?t("div",{staticClass:"product_list_typelan"},[e._v(" "+e._s(i.type)+" ")]):e._e(),"素人"==i.type?t("div",{staticClass:"product_list_typechen"},[e._v(" "+e._s(i.type)+" ")]):e._e()]),0==i.price_type?t("div",{staticClass:"product_list_rigth"},[e._v(" ￥"+e._s(i.price)+" ")]):1==i.price_type?t("div",{staticClass:"product_list_rigth"},[e._v(" ￥"),t("span",[e._v(e._s(i.lower_price)+"-"+e._s(i.highest_price))])]):t("div",{staticClass:"product_list_rigth",staticStyle:{"font-size":"12px"}},[e._v(" 视产品而定 ")])]),i.category_ids.length<=5?t("div",{staticClass:"product_list_div2",attrs:{title:e.categoryidarr[s]}},e._l(i.category_ids,(function(i,s){return t("li",{key:s},[e._v(" "+e._s(i.name)+" ")])})),0):t("div",{staticStyle:{display:"flex"},attrs:{title:e.categoryidarr[s]}},[t("div",{staticClass:"product_list_div2"},e._l(i.category_ids,(function(i,s){return t("li",{key:s},[e._v(" "+e._s(i.name)+" ")])})),0),t("span",[e._v("...")])]),t("div",{staticStyle:{height:"1px","background-color":"#eee","margin-top":"15px"}}),t("ul",{staticClass:"product_list_videos"},[e._l(e.isvideoslist[s],(function(s,a){return t("li",{key:s.user_id,attrs:{title:s.desc},on:{click:function(t){return e.openVideos(i.videos,a)}}},[t("i",{staticClass:"iconfont icon-video",staticStyle:{"font-size":"14px"}}),t("span",[e._v(" "+e._s(s.desc))])])})),i.videos.length>=12?t("li",{staticStyle:{width:"22px","text-align":"center",display:"block",background:"linear-gradient(","border-radius":"4px"},on:{click:function(t){return e.gohomepage(i.id,i.user_id)}}},[e._v(" . . . ")]):e._e()],2)]),t("div",{ref:"addbtndom",refInFor:!0,class:{product_btn:0!=i.istrue,addlistbj:0==i.istrue},on:{click:function(t){return e.addlist(i,s,i.user_id)}}},[t("span",{staticClass:"icon"},[e._v("+")]),t("i",{staticClass:"iconfont icon-gwc",staticStyle:{"font-size":"14px"}}),0==i.istrue?t("span",{staticClass:"test1"},[e._v("已选择")]):t("span",{staticClass:"test1"},[e._v("选择")])]),0!=i.logo_id.length?t("div",{staticClass:"logo_id"},[e._m(0,!0)]):e._e()])})),0):t("div",{staticClass:"product_div"},[t("img",{attrs:{src:i(9166),alt:""}}),t("p",[e._v("暂无搜索结果")])])]),[t("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.datalist.length,expression:"datalist.length != 0"}],staticClass:"paging"},[t("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[12,24,48,96],"page-size":e.per_page,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2),t("el-dialog",{attrs:{visible:e.dialogVisible,width:"880px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"eldialogVisble"},[t("div",{staticStyle:{width:"650px"}},[t("div",{staticClass:"leftVis"},[t("video",{ref:"myVideo",attrs:{autoplay:"",controls:"",preload:"none"},on:{play:function(t){e.video_img=!0},pause:function(t){e.video_img=!1}}},[t("source",{attrs:{src:e.videoslist[e.videoslistindex]?.file,type:"video/mp4"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.video_img,expression:"!video_img"}],staticClass:"video_img",on:{click:e.videoplay}})]),t("div",{staticClass:"title",attrs:{title:e.videoslist[e.videoslistindex]?.desc}},[e._v(" "+e._s(e.videoslist[e.videoslistindex]?.desc)+" ")])]),t("div",{staticClass:"rigthlist"},[t("p",{staticClass:"rigthlist_p"},[e._v("作品案例")]),e._l(e.videoslist,(function(i,s){return t("p",{key:i.id,class:{videoslistcss:i.videoslistcss,falg:!0},attrs:{title:i.desc},on:{click:function(t){return e.SwitchVideo(e.videoslist,s)}}},[t("i",{staticClass:"iconfont icon-video"}),e._v(" "+e._s(i.desc)+" ")])}))],2)])]),t("el-dialog",{attrs:{title:"温馨提示",center:"",visible:e.dialogVisiblelogin,width:"300px"},on:{"update:visible":function(t){e.dialogVisiblelogin=t}}},[t("p",{staticStyle:{"text-align":"center","margin-top":"22px","padding-right":"20px"}},[e._v(" 您还没有登录，登录后即可继续操作 ")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"dialogVisibleloginbtn",on:{click:e.goLogin}},[e._v("去登录")])],1)]),t("el-dialog",{attrs:{title:"温馨提示",center:"",visible:e.dialogVisiblelogins,width:"300px"},on:{"update:visible":function(t){e.dialogVisiblelogins=t}}},[t("p",{staticStyle:{"text-align":"center","margin-top":"22px",padding:"0 20px","line-height":"1.6"}},[e._v(" 每一个视频可选"),t("span",{staticStyle:{color:"#d161f6"}},[e._v("0～5")]),e._v("个意向红人 "),t("br"),e._v(" 未选择时，将由平台为您推荐 ")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"dialogVisibleloginbtn",on:{click:function(t){e.dialogVisiblelogins=!1}}},[e._v("知道了")])],1)])],1)},a=[function(){var e=this,t=e._self._c;return t("p",[t("i",{staticClass:"iconfont icon-bq"}),t("span",[e._v("含版权")])])}],l=(i(7658),i(586)),r=i(1316),n=i(5132),o=i(629),d=i(8739),c={name:"buyershow",data(){return{searchforval:"",genderValue:"",categoryValue:"",themeValue:"",categoryList:[],themeList:[],total:0,per_page:0,priceval:"",datalist:[],currentPage:1,pageSize:24,dialogVisible:!1,dialogVisiblelogin:!1,video_img:!0,videoslist:[],videoslistindex:0,requirementlist:[],prevIndexArr:[],indexArr:[],categoryidarr:[],isvideoslist:[],isloading:!1,dialogVisiblelogins:!1,screenIndex:0,SelectedNumber:0,SelectedPrice:0,searchhint:"请输入产品名称/品类/红人编号/红人类型/社媒名称等信息"}},computed:{...(0,o.rn)({RequirementLists:e=>e.Index.RequirementList,randomNumber:e=>e.Index.updata}),Requiremenitems(){return r.Z.state.Index.Requiremenitem},getRequirementFirst(){return r.Z.state.Index.RequirementFirst}},mounted(){this.isloading=!0,document.getElementsByClassName("el-pagination__jump")[0].childNodes[0].nodeValue="跳转",this.handlerGetCategory("influencer"),this.handlerGetCategory("theme_area"),this.RenderingData(),window.addEventListener("beforeunload",(e=>this.beforeunloadHandler(e)))},beforeUpdate(){},methods:{goLogin(){n.Z.push("/login")},SwitchSorting(e){switch(this.isloading=!0,this.currentPage=1,e){case"number":this.SelectedNumber++,this.SelectedNumber>2&&(this.SelectedNumber=0);break;case"price":this.SelectedPrice++,this.SelectedPrice>2&&(this.SelectedPrice=0);break;default:break}this.RenderingData()},handlerGetCategory(e){(0,l.n3)({type:e}).then((t=>{if(1===t.code)switch(e){case"influencer":this.categoryList=t.data;break;case"theme_area":this.themeList=t.data;default:break}})).catch((e=>{this.$message.error(e.msg)}))},handlerSearchList(e,t){switch(this.currentPage=1,localStorage.getItem("token")&&(this.isloading=!0),e){case"genderdata":this.genderValue=t;break;case"category_id":this.categoryValue=t;break;case"theme_id":this.themeValue=t;break;default:break}this.RenderingData()},getRenderingData(){localStorage.getItem("token")?(this.isloading=!0,this.currentPage=1,this.RenderingData()):this.dialogVisiblelogin=!0},RenderingData:(0,d.Ds)((function(){this.datalist=[],this.isvideoslist=[],this.categoryidarr=[],(!localStorage.getItem("token")&&""!=this.searchforval||!localStorage.getItem("token")&&""!=this.categoryValue||!localStorage.getItem("token")&&""!=this.themeValue||!localStorage.getItem("token")&&""!=this.genderValue||!localStorage.getItem("token")&&""!=this.priceval)&&(this.dialogVisiblelogin=!0,this.genderValue="",this.themeValue="",this.categoryValue="",this.priceval=""),0==this.screenIndex&&(this.screenIndex="");let e=[this.SelectedNumber,this.SelectedPrice];0!==e[0]?e[0]="user_id":e[0]="",0!==e[1]?e[1]="price":e[1]="";let t=[this.SelectedNumber,this.SelectedPrice];for(let i=0;i<t.length;i++)0==t[i]&&(t[i]=""),1==t[i]&&(t[i]="asc"),2==t[i]&&(t[i]="desc");this.getdata(this.currentPage,this.pageSize,this.genderValue,this.categoryValue,this.themeValue,this.priceval,this.searchforval,this.screenIndex,e,t)}),500),getdata(e,t,i,s,a,r,n,o,d,c){let h={keyword:n,genderdata:i,type:[],price:r,category_id:s,page:e,pageSize:t,order:d,orderType:c,theme_id:a,keyword_type:o};(0,l.eO)(h).then((e=>{if(this.isloading=!1,1==e.code){this.total=e.data.total,this.per_page=e.data.per_page,this.datalist=e.data.data,this.currentPage=e.data.current_page;let t=[];this.datalist.forEach((e=>{if(t.push(e.category_ids),e.videos.length>=12){let t=e.videos.slice(0,10);this.isvideoslist.push(t)}else this.isvideoslist.push(e.videos)})),t.forEach((e=>{let t=e.map((e=>e.name)),i=t.join(" | ");this.categoryidarr.push(i)})),this.InvertList()}})).catch((e=>{this.$message.error(e.msg)}))},openVideos(e,t){this.dialogVisible=!0,this.videoslistindex=t,e.forEach((e=>e.videoslistcss=!1)),this.videoslist=e,this.videoslist[t].videoslistcss=!0,this.$nextTick((()=>{const e=this.$refs.myVideo;e.pause(),e.load(),e.play()}))},SwitchVideo(e,t){const i=this.$refs.myVideo;i.pause(),i.load(),i.play(),this.videoslistindex=t,e.forEach((e=>e.videoslistcss=!1)),this.videoslist=e,this.videoslist[t].videoslistcss=!0},addlist(e,t,i){if(localStorage.getItem("token"))if(1==this.getRequirementFirst)this.dialogVisiblelogins=!0,r.Z.commit("Index/setRequirementFirst",0);else{this.requirementlist=this.RequirementLists;const s=event.clientX-20,a=event.clientY-20;this.$refs.addbtndom[t].classList.add("addlistbj"),this.$refs.addbtndom[t].classList.remove("product_btn"),this.$refs.addbtndom[t].querySelector(".test1").textContent="已选择",0!=e.istrue&&(0==this.requirementlist.length?this.requirementlist.push([e]):this.requirementlist[this.requirementlist.length-1].length<5?this.requirementlist[this.requirementlist.length-1].push(e):this.requirementlist.push([e]),r.Z.commit("Index/setRequirementList",this.requirementlist),this.createBall(s,a),this.SaveData(i)),this.datalist[t].istrue=!1}else this.dialogVisiblelogin=!0},SaveData(e){let t={influencer_id:e,type:1};e&&(0,l.Nn)(t).then((e=>{(0,l.K$)().then((e=>{r.Z.commit("Index/setRequirementList",e.data.list),r.Z.commit("Index/setRequirementFirst",e.data.first)}))}))},createBall(e,t){const i=document.createElement("ball");i.style.position="fixed",i.style.left=e+"px",i.style.top=t+"px",i.style.width="30px",i.style.height="30px",i.style.borderRadius="50%",i.style.backgroundColor="#d161f6",i.style.transition="left .6s linear, top .6s cubic-bezier(0.5, 0.5, 1, 1)",document.body.appendChild(i),setTimeout((()=>{const e=document.body.clientWidth-375,t=0;i.style.top=t+"px",i.style.left=e+"px"}),0),i.ontransitionend=function(){this.remove()}},InvertList(){let e=this;e.RequirementLists.flat().forEach((t=>{let i=e.datalist.findIndex((e=>e.user_id==t.user_id));-1!=i&&(e.datalist[i].istrue=!1)}))},SynchronizeList(e){var t=this.$refs.addbtndom;-1!=e&&(this.datalist[e].istrue=!0,this.$nextTick((()=>{t[e].classList.remove("addlistbj"),t[e].classList.add("product_btn"),t[e].querySelector(".test1").textContent="选择"})))},gohomepage(e,t){window.open(window.location.origin+`/homepage?id=${e}&user-id=${t}`)},handleSizeChange(e){this.isloading=!0,this.pageSize=e,this.RenderingData()},handleCurrentChange(e){this.isloading=!0,this.currentPage=e,this.RenderingData()},videoplay(){const e=this.$refs.myVideo;e.play(),this.video_img=!0}},watch:{dialogVisible(e){if(0==e){const e=this.$refs.myVideo;e.pause(),e.load(),this.videoslistindex=-1}},Requiremenitems(e){if(Array.isArray(e))e.forEach((e=>{var t=this.datalist.findIndex((t=>t.user_id==e.user_id));this.SynchronizeList(t)}));else{var t=this.datalist.findIndex((t=>t.user_id==e));this.SynchronizeList(t)}},randomNumber(e){var t=this.$refs.addbtndom;this.datalist.forEach(((e,i)=>{e.istrue=!0,this.$nextTick((()=>{t[i].classList.remove("addlistbj"),t[i].classList.add("product_btn"),t[i].querySelector(".test1").textContent="选择"}))})),setTimeout((()=>{this.RequirementLists.flat().forEach((e=>{var i=this.datalist.findIndex((t=>t.user_id==e.user_id));this.datalist[i].istrue=!1,this.$nextTick((()=>{t[i].classList.remove("product_btn"),t[i].classList.add("addlistbj"),t[i].querySelector(".test1").textContent="已选择"}))}))}),500)},screenIndex(e){switch(e){case 0:this.searchhint="请输入产品名称/品类/红人编号/红人类型/社媒名称等信息";break;case 1:this.searchhint="请输入红人编号";break;case 3:this.searchhint="请输入产品名称";break;default:break}""!=this.searchforval&&this.getRenderingData()}}},h=c,u=i(1001),g=(0,u.Z)(h,s,a,!1,null,"3ea45f54",null),p=g.exports},6741:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAYAAAAmaHdCAAAAAXNSR0IArs4c6QAAA0RJREFUOE+VlE1oXFUUx3/nvXmZyTj9IA2tDVQ02SgqUolSURTddNEiCIWCqBtdiO5U3IoIgkTcqEihbgJqVMzCSl0oXRRRMAGViKmUivaDTE2TmUxm5n3fI2feG41oQC9cHm/m3N/7n/855wr/Y2moL6H0pS4zW4/Jf2XoVd1HyG9U+VL2y9FtIdrRowiT0pA3EXRroF7Qp+nwTr6TxypT8t72kBX9GOGYG2HGH5MXh4Et1d2N7zmdd7l7fSp7aGIiOLs9ZFHHcXzODqbj63gjuJ7L4nEk3OSedIF6PA7+FCqw0O25d1dD78PpKdn40xNVbZBzfx7yhH7H8RxIJqG6C/II0mVIxqCyB1wIkkLqtNUSOSaq6rPCa87jqbzOrtxB1gTOA/shuMloIB3wHEgOeQpxVux+hVOiF/VZlLe0BVkOXgO8BBBwo+VBB9jOwKUQZhCl0DdYhbOiV/UrUu4dBEVACDQAH7Cc7Hd7pqClAjvcTyC094AvDLJExm0Dt62ofaBSHjaALXuGkJVf7yaFil4KUYXT4lb0jOQ8aPIHEFMzlB8Dk0Ad6EC6Ahu/QyeBTQNZWqKfirusn0nOEbzyq71SvqVgqd25RVkIeRual+Bis/Am9vhEsl91HscjnjfwErqFgWqQHshdwEiZpv0XwrV1+OECRFapgI8k/kXn1HHcEwZi/E1wGWQZeJvgT4OYRyUgDGHxHHQiiKxaVd6Xzs8668PjQ0ilU5QvyUHasOMO8IJCSVQCNkqAxVB1s7K2pCd94UnflAgEHdiIIc7BtWHiZvDrJWAZ2v2iyRJrSgf+KCfl2qK+7cEzUkIqPViNiqCoCwf2Qm0vLPwE7d5fAOtsJ+DXeFlWv9YZlBcG6XjFXDRDSLRIq5eUbVI2WmpmKjiFoKat2mh8UNa+1efTkNdVwfMhMYjl7IqUEitjXiiwsTD3/YBureFO1avZq4cPV38UvaRj3RbzcY8Hogj6PbhiUyuFuQZIrfl8suqofjMy6mZvvMWfv/WArA/vlOIqUJXmEg+POF45f47b1xQyr9iVGste4D4Y35fOHTpYs9n+x/rbHXvihAY37OHR+m6eS3LO1HYyd98hFkRkOEX/eiX/AfRLun07NkmHAAAAAElFTkSuQmCC"}}]);