"use strict";(self["webpackChunkvideoproject"]=self["webpackChunkvideoproject"]||[]).push([[819],{9819:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"homepage"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"left"},[e("div",{staticClass:"top"},[e("div",{staticClass:"img"},[e("el-image",{attrs:{src:t.userInfo.image,fit:"cover"}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),e("span",{staticClass:"dot"},[t._v("...")])]),e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.userInfo.logo_id?.length,expression:"userInfo.logo_id?.length != 0"}],staticClass:"logo_id"},[t._m(0)])],1),e("div",{staticClass:"information"},[e("div",{staticClass:"id-money"},[e("div",{staticClass:"id-moneyleft"},[e("span",{staticClass:"id"},[t._v("No."+t._s(t.userInfo.user_id))]),e("div",{class:{yxlz:"影响力者"==t.userInfo.type,smhr:"社媒红人"==t.userInfo.type,sr:"素人"==t.userInfo.type,szr:"数字人"==t.userInfo.type}},[t._v(" "+t._s(t.userInfo.type)+" ")])]),e("p",{staticClass:"id-moneyrigth"},[0==t.userInfo.price_type?e("span",{staticClass:"money"},[t._v("￥"+t._s(t.userInfo.price))]):1==t.userInfo.price_type?e("span",{staticClass:"money"},[t._v(" ￥"+t._s(t.userInfo.lower_price)+"-"+t._s(t.userInfo.highest_price)+" ")]):e("span",{staticClass:"money",staticStyle:{"font-size":"16px"}},[t._v(" 视产品而定 ")])])]),e("ul",{staticClass:"classification"},t._l(t.userInfo.category_ids,(function(i,s){return e("li",{key:s},[t._v(" "+t._s(i.name)+" ")])})),0),e("hr"),e("div",{staticClass:"Introductionitem"},[e("div",{staticClass:"name"},[t._v("国家")]),e("div",{staticClass:"content1"},[e("img",{attrs:{src:t.userInfo.country_id?.image}}),e("span",[t._v(t._s(t.userInfo.country_id?.name))])])]),e("div",{staticClass:"Introductionitem"},[e("div",{staticClass:"name"},[t._v("性别")]),e("div",{staticClass:"content2"},["female"==t.userInfo.genderdata?e("i",{staticClass:"el-icon-female"}):e("i",{staticClass:"el-icon-male"}),e("span",[t._v(t._s("female"==t.userInfo.genderdata?"女":"男"))])])]),e("div",{staticClass:"Introductionitem"},[e("div",{staticClass:"name"},[t._v("年龄")]),e("div",{staticClass:"content1"},[e("span",{staticStyle:{"margin-right":"2px"}},[t._v(t._s(t.userInfo.age))]),e("span",[t._v("岁")])])]),e("div",{staticClass:"Introductionitem"},[e("div",{staticClass:"name"},[t._v("社交平台")]),e("ul",{staticClass:"content3"},t._l(t.userInfo.platform,(function(t,i){return e("li",{key:i},[e("img",{attrs:{src:t.image}})])})),0)]),e("div",{staticClass:"Introductionitem"},[e("div",{staticClass:"name"},[t._v("交付周期")]),e("div",{staticClass:"content4"},[e("span",[t._v(t._s(t.userInfo.leadtime_id))]),e("b",[t._v("（样品收货后）")])])]),e("button",{class:{Donotclick:t.Donotclick},on:{click:t.addlist}},[e("span",{staticClass:"icon"},[t._v("+")]),e("i",{staticClass:"iconfont icon-gwc"}),e("span",[t._v(t._s(t.Donotclick?"已选择":"选择"))])])])]),e("div",{staticClass:"bottom"},[e("h1",[t._v("生活照")]),0!=t.Lifephotoslist?.length?e("ul",{ref:"Lifephotoslistdom"},t._l(t.Lifephotoslist,(function(i,s){return e("li",{key:s},[e("el-image",{attrs:{src:i.image,"preview-src-list":t.srcList}})],1)})),0):e("div",{staticClass:"emptyimg"},[e("img",{attrs:{src:i(9166)}}),e("p",[t._v("暂无照片")])])])]),e("div",{staticClass:"rigth"},[e("div",{staticClass:"top"},[e("h1",[t._v("个人简介")]),e("ul",t._l(t.userInfo.signature,(function(i,s){return e("li",{key:s},[e("span",{staticClass:"dian"}),e("p",[t._v(t._s(i))])])})),0)]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"Tabs"},[e("div",{class:{ifVideoImages:t.ifVideoImages}},[e("span",{on:{click:()=>{t.ifVideoImages||(t.ifVideoImages=!t.ifVideoImages)}}},[t._v("视频案例")])]),e("div",{class:{ifVideoImages:!t.ifVideoImages}},[e("span",{on:{click:()=>{t.ifVideoImages&&(t.ifVideoImages=!t.ifVideoImages)}}},[t._v("图片post")])])]),e("div",{staticClass:"videoimages"},[e("div",{ref:"switch",staticClass:"switch"},[e("div",{staticClass:"video-content"},[t.videodatas?.length>0?e("div",[e("ul",{ref:"videolistHeigth"},t._l(t.videodatas,(function(i){return e("li",{key:i.id},[e("div",{staticClass:"cover",on:{click:function(e){return t.addvideoLog(i.file,i.desc)}}},[e("el-image",{attrs:{src:i.coverimage,fit:"cover"}}),e("i",{staticClass:"el-icon-caret-right"}),e("div",{staticClass:"masking-out"})],1),e("p",{staticClass:"desc",attrs:{title:i.desc}},[t._v(" "+t._s(i.desc)+" ")])])})),0),[t.total>15?e("div",{staticClass:"paging"},[e("el-pagination",{attrs:{background:"","page-sizes":[15,30,45],layout:"prev, pager, next, sizes, jumper",total:t.total,"current-page":t.currentPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]],2):e("div",{staticClass:"emptyimg"},[e("img",{attrs:{src:i(9166)}}),e("p",[t._v("暂无视频")])])]),e("div",{staticClass:"images-content"},[t.imagepostlist?.length>0?e("div",[e("ul",{ref:"imglistHeigth"},t._l(t.imagepostlist,(function(i){return e("li",{key:i.id},[e("el-image",{attrs:{src:i.image,fit:"cover","preview-src-list":t.imagepostsrcList}})],1)})),0),[t.imageposttotal>16?e("div",{staticClass:"paging"},[e("el-pagination",{attrs:{background:"","page-sizes":[16,32,48],layout:"prev, pager, next, sizes, jumper",total:t.imageposttotal,"current-page":t.currentPage},on:{"size-change":t.imagepostChange,"current-change":t.imagepostCurrentChange}})],1):t._e()]],2):e("div",{staticClass:"emptyimg"},[e("img",{attrs:{src:i(9166)}}),e("p",[t._v("暂无照片")])])])])])])])]),e("videoLog",{attrs:{videoLog:t.videoLog,videoLogscr:t.videoLogscr,videoLogtitle:t.videoLogtitle},on:{getvideoLog:t.getvideoLog}}),e("el-dialog",{attrs:{title:"温馨提示",center:"",visible:t.dialogVisiblelogin,width:"300px"},on:{"update:visible":function(e){t.dialogVisiblelogin=e}}},[e("p",{staticStyle:{"text-align":"center","margin-top":"15px","white-space":"nowrap"}},[t._v(" 您还没有登录，登录后即可继续操作 ")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"dialogVisibleloginbtn",on:{click:t.goLogin}},[t._v("去登录")])],1)])],1)},a=[function(){var t=this,e=t._self._c;return e("p",[e("i",{staticClass:"iconfont icon-bq"}),e("span",[t._v("含版权")])])}],o=(i(7658),i(586)),l=i(629),n=i(1316),r=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.videoLogtitle,visible:t.videoLog,width:"1000px","before-close":t.beforeClose,"close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.videoLog=e}}},[e("div",[e("video",{ref:"myVideo",attrs:{id:"my-video",controls:"",autoplay:"",preload:"metadata"},on:{play:function(e){t.video_img=!0},pause:function(e){t.video_img=!1}}},[e("source",{attrs:{src:t.isvideoLogscr,type:"video/mp4"}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.video_img,expression:"!video_img"}],staticClass:"video_img",on:{click:t.videoplay}})])])],1)},c=[],d={props:["videoLog","videoLogscr","videoLogtitle"],data(){return{isvideoLogscr:"",video_img:!0}},methods:{beforeClose(){const t=this.$refs.myVideo;t.pause(),this.isvideoLogscr="",this.$emit("getvideoLog",!1)},videoplay(){const t=this.$refs.myVideo;t.play(),this.video_img=!0}},mounted(){},watch:{videoLogscr(t){const e=this.$refs.myVideo;this.isvideoLogscr=t,e?.load()},videoLog(t){if(t){const t=this.$refs.myVideo;t?.play()}}}},g=d,p=i(1001),h=(0,p.Z)(g,r,c,!1,null,"4b53c012",null),m=h.exports,v=i(5132),u={name:"homepage",data(){return{id:"",userId:"",userInfo:{},Donotclick:!1,Lifephotoslist:[],srcList:[],ifVideoImages:!0,videodatas:[],videoLog:!1,videoLogscr:"",videoLogtitle:"",total:0,currentPage:1,pageSize:15,LifephotospageSize:12,Lifephotospage:1,scrollHandler:null,imagepostlist:[],imageposttotal:0,imagepostSize:16,imageposCpage:1,dialogVisiblelogin:!1,imagepostsrcList:[]}},computed:{...(0,l.rn)({requirementList:t=>t.Index.RequirementList})},mounted(){var t=new URL(window.location.href);this.userId=t.searchParams.get("user-id"),this.id=t.searchParams.get("id"),this.getInfluencerDetail(),this.getLifephotos(),this.getvideos(),this.getpostImagelists()},methods:{goLogin(){v.Z.push("/login")},getInfluencerDetail(){(0,o.dk)({id:this.userId}).then((t=>{1===t.code&&(this.userInfo=t.data,this.Donotclick=this.requirementList.flat().some((e=>e.user_id==t.data.user_id)))})).catch((t=>{console.log(t)}))},async getLifephotos(){let t={influencer_id:this.id,pageSize:this.LifephotospageSize,page:this.Lifephotospage};const e=await(0,o.H$)(t);if(1==e.code)if(e.data.data.forEach((t=>{this.Lifephotoslist.push(t),this.srcList.push(t.image)})),e.data.total>=this.Lifephotoslist?.length&&null==this.scrollHandler&&e.data.total>12)this.scrollHandler=()=>{let t=this.$refs.Lifephotoslistdom;var e=t.scrollHeight-t.scrollTop-t.clientHeight;e<=0&&(this.Lifephotospage++,this.getLifephotos())},this.$nextTick((()=>{let t=this.$refs.Lifephotoslistdom;t.addEventListener("scroll",this.scrollHandler)}));else if(null!=this.scrollHandler&&e.data.total==this.Lifephotoslist?.length){let t=this.$refs.Lifephotoslistdom;t?.removeEventListener("scroll",this.scrollHandler)}},async getvideos(){let t={influencer_id:this.id,page:this.currentPage,pageSize:this.pageSize};const e=await(0,o.np)(t);1==e.code&&(this.videodatas=e.data.data,this.total=e.data.total,this.total>15&&setTimeout((()=>{document.getElementsByClassName("el-pagination__jump")[0].childNodes[0].nodeValue="跳转"}),1e3))},async getpostImagelists(){let t={influencer_id:this.id,page:this.imageposCpage,pageSize:this.imagepostSize};const e=await(0,o.Ti)(t);if(1==e.code){this.imagepostlist=e.data.data,this.imageposttotal=e.data.total,this.imagepostsrcList=[],this.imagepostlist.forEach((t=>{this.imagepostsrcList.push(t.image)}));let t=0;t=this.total>15?1:0,this.imageposttotal>16&&setTimeout((()=>{document.getElementsByClassName("el-pagination__jump")[t].childNodes[0].nodeValue="跳转"}),1e3)}},async addlist(){if(localStorage.getItem("token")||(this.dialogVisiblelogin=!0),0==this.Donotclick&&localStorage.getItem("token")){this.Donotclick=!0,this.createBall(event.clientX-20,event.clientY-20);const t=await(0,o.Nn)({influencer_id:this.userInfo.user_id,type:1});1==t.code&&(0,o.K$)().then((t=>{n.Z.commit("Index/setRequirementList",t.data.list),n.Z.commit("Index/setRequirementFirst",t.data.first)}))}},addvideoLog(t,e){this.videoLogscr=t,this.videoLogtitle=e,this.videoLog=!0},createBall(t,e){const i=document.createElement("ball");i.style.position="fixed",i.style.left=t+"px",i.style.top=e+"px",i.style.width="30px",i.style.height="30px",i.style.borderRadius="50%",i.style.backgroundColor="#d161f6",i.style.transition="left .6s linear, top .6s cubic-bezier(0.5, 0.5, 1, 1)",document.body.appendChild(i),setTimeout((()=>{const t=document.body.clientWidth-400,e=0;i.style.top=e+"px",i.style.left=t+"px"}),0),i.ontransitionend=function(){this.remove()}},getvideoLog(t){this.videoLog=t},handleSizeChange(t){this.currentPage=1,this.pageSize=t,this.getvideos()},handleCurrentChange(t){this.currentPage=t,this.getvideos()},imagepostChange(t){this.imageposCpage=1,this.imagepostSize=t,this.getpostImagelists()},imagepostCurrentChange(t){this.imageposCpage=t,this.getpostImagelists()}},watch:{requirementList(t){this.Donotclick=t.flat().some((t=>t.user_id==this.userInfo.user_id))},ifVideoImages(t){this.$refs.switch.style.left=t?0:"-820px"},pageSize(t){switch(t){case 30:this.$refs.videolistHeigth.style.maxHeight="2000px";break;case 45:this.$refs.videolistHeigth.style.maxHeight="3000px";break;default:this.$refs.videolistHeigth.style.maxHeight="1000px";break}},imagepostSize(t){switch(t){case 32:this.$refs.imglistHeigth.style.maxHeight="1680px";break;case 48:this.$refs.imglistHeigth.style.maxHeight="2520px";break;default:this.$refs.imglistHeigth.style.maxHeight="840px";break}}},components:{videoLog:m}},f=u,_=(0,p.Z)(f,s,a,!1,null,"6661893e",null),C=_.exports}}]);