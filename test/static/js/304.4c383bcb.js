"use strict";(self["webpackChunkvideoproject"]=self["webpackChunkvideoproject"]||[]).push([[304],{5304:function(e,t,i){i.r(t),i.d(t,{default:function(){return X}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"RequirementBox"},[e._m(0),t("Transition",{attrs:{"enter-active-class":"li2show","leave-active-class":"li2hide"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.ifsubmitTo,expression:"ifsubmitTo"}],staticClass:"headertitle"},[t("p",[t("i",{staticClass:"iconfont icon-tips",staticStyle:{"font-size":"14px"}}),e._v(" 温馨提示：填写完后记得及时上传，否则提报人无法接收哦～ ")])])]),t("div",{staticClass:"RequirementBoxBanxin"},[t("p",{staticClass:"hearder"},[e._v("填写视频拍摄需求")]),t("div",{staticClass:"RequirementWenben"},[t("div",{staticClass:"RequirementWenben-div1"},[t("span",{on:{click:function(t){e.NotedialogdialogVisible=!0}}},[e._v("拍摄须知")]),t("div"),t("span",{on:{click:function(t){e.TipsdialogVisible1=!0}}},[e._v("新手引导")])]),t("div",{staticClass:"RequirementWenben-div2"},[t("div",{staticClass:"elIcon2 tips6"},[t("el-upload",{attrs:{action:"",accept:".xls, .xlsx","show-file-list":!1,multiple:!1,"http-request":e.httpRequest}},[t("i",{staticClass:"iconfont icon-yq"}),t("span",[e._v("批量导入")])])],1),t("div",{staticClass:"elIcon2"},[t("i",{staticClass:"iconfont icon-mb"}),t("a",{staticStyle:{cursor:"pointer"},attrs:{href:e.fileDiz}},[e._v("下载模板")])])])]),t("div",{staticClass:"loading-area",staticStyle:{position:"relative","border-radius":"4px",border:"1px solid #eeeeee","box-sizing":"border-box"}},[t("el-table",{ref:"elTable",attrs:{data:e.tableData,"header-cell-style":{background:"#F6F6F6",color:"#333333",position:"relative"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{label:"序号",width:"70"},scopedSlots:e._u([{key:"default",fn:function(i){return[2!=i.row.flag?t("div",{staticStyle:{"padding-right":"30px"}},[e._v(" "+e._s(i.$index+1)+" ")]):e._e()]}}])}),t("el-table-column",{attrs:{width:"400"},scopedSlots:e._u([{key:"default",fn:function(i){return[2!=i.row.flag?t("div",[t("ul",{staticClass:"influencerInfoUl"},[t("draggable",{attrs:{animation:"100",ghostClass:"ghost",chosenClass:"chosen",forceFallback:!0,group:"people",handle:".mover"},on:{end:function(t){return e.influencer_infoOnEnd(e.tableData,i.$index,i.row.id)},start:function(t){return e.influencer_infoOnStart(i.row.influencer_info)}},model:{value:i.row.influencer_info,callback:function(t){e.$set(i.row,"influencer_info",t)},expression:"scope.row.influencer_info"}},[t("transition-group",{style:e.style},e._l(i.row.influencer_info,(function(s,a){return t("li",{key:a,staticClass:"influencerInfoLi isinfluencerInfoLi",on:{mousedown:function(t){return e.influencerinfomousedown(s)}}},[s.ifinfluencerInfo?t("div",{staticClass:"influencerInfoLi_div"},[t("div",{staticClass:"influencerInfo"},[t("i",{staticClass:"el-icon-user-solid"})]),t("div",{staticClass:"influencerInfo2"},[e._v("平台推荐")])]):t("div",{staticClass:"influencerInfoLi_div mover"},[t("div",{staticStyle:{position:"relative"}},[t("img",{staticStyle:{display:"block",width:"32px",height:"32px","border-radius":"50%","object-fit":"cover"},attrs:{src:s.image},on:{click:function(t){return e.gohomepage(s.user_id)}}}),t("i",{staticClass:"el-icon-error delDiv",on:{click:function(t){return e.delDr(s.id,i.row.id)}}})]),t("p",{staticStyle:{"font-size":"12px","font-family":"PingFangSC-Regular, PingFang SC","font-weight":"400",color:"#999999","max-width":"50px","white-space":"nowrap"}},[t("span",[e._v("No."+e._s(s.user_id))])]),t("p",{staticStyle:{"font-size":"12px","font-weight":"400",color:"#796cf3","text-align":"center"}},[e._v(" "+e._s(s.price)+" ")]),t("div",{class:{indextop:!0,indextop1:0==a,indextop2:1==a,indextop3:2==a,indextop4:3==a,indextop5:4==a}},[e._v(" "+e._s(a+1)+" ")])])])})),0)],1),5!=i.row.influencer_info.length?t("li",{staticClass:"influencerInfoLiclass"},[i.row.influencerInfo?t("div",{staticClass:"influencerInfoLi_div"},[t("div",{staticClass:"influencerInfo"},[t("i",{staticClass:"el-icon-user-solid"})]),t("div",{staticClass:"influencerInfo2"},[e._v("平台推荐")])]):e._e(),t("div",{staticClass:"influencerInfoLi_div2"},[t("div",{staticClass:"influencerInfo3",on:{click:function(t){return e.Addinfluencers(i.row.influencer_info,i.row.id)}}},[e._v(" + ")]),t("div",{staticClass:"influencerInfo2"},[e._v("添加")])])]):e._e()],1)]):e._e()]}}])},[t("template",{slot:"header"},[t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("p",{staticStyle:{"line-height":"20px"}},[e._v(" 默认按排序先后匹配红人，未选 "),t("br"),e._v(" 意向红人时，默认为平台推荐 ")])]),t("p",[e._v("意向红人")])]),t("span",{staticStyle:{color:"#999999","font-size":"12px","margin-left":"4px"}},[e._v("(可上下左右拖动排序)")])],1)])],2),t("el-table-column",{attrs:{label:"拍摄要求",width:"340"},scopedSlots:e._u([{key:"default",fn:function(s){return[2!=s.row.flag?t("div",[s.row.flag||""==s.row.title?t("div",[t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t("div",{staticClass:"addbtn",on:{click:function(t){return e.Fillintherequirements(s.row.id)}}},[t("i",{staticClass:"iconfont icon-tx"}),e._v(" 填写 ")])])]):t("div",{staticClass:"table-yaoq",staticStyle:{display:"flex","align-items":"center",cursor:"pointer","justify-content":"center"}},[t("div",{staticStyle:{height:"60px",width:"60px",border:"1px solid #f0f0f0",padding:"1px"}},[0!=s.row.image.length?t("img",{staticStyle:{width:"100%",height:"100%","object-fit":"cover"},attrs:{src:s.row.image[0]},on:{click:function(t){return e.gocommodity(s.row.url)}}}):t("img",{staticStyle:{width:"20px",height:"20px","margin-top":"20px"},attrs:{src:i(192)}})]),t("div",{staticStyle:{"margin-left":"5px"}},[t("p",{staticStyle:{width:"100px","max-height":"3em",overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2","text-overflow":"ellipsis","text-align":"left"},attrs:{title:s.row.title}},[e._v(" "+e._s(s.row.title)+" ")]),s.row.url?t("p",{staticStyle:{"font-size":"12px",color:"#999999","min-width":"105px","text-align":"left"},on:{click:function(t){return e.gocommodity(s.row.url)}}},[e._v(" "+e._s(s.row.asin)+" "),t("i",{staticClass:"iconfont icon-share",staticStyle:{color:"#a06cf3","font-size":"12px","margin-left":"3px"}})]):t("p",{staticStyle:{color:"#999999","min-width":"105px"}},[e._v("--")])]),""!=s.row.url||0!=s.row.image.length?t("div",{staticClass:"tableyaoq-div",on:{click:function(t){return e.openFillingRequirementsdialog(s.$index)}}},[t("p",[e._v("详情")]),t("i",{staticClass:"iconfont icon-tx"})]):t("div",{staticClass:"tableyaoq-div2",on:{click:function(t){return e.openFillingRequirementsdialog(s.$index)}}},[t("p",[e._v("详情")]),t("i",{staticClass:"el-icon-warning"})])])]):e._e()]}}])}),t("el-table-column",{attrs:{label:"视频数量"},scopedSlots:e._u([{key:"default",fn:function(i){return[2!=i.row.flag?t("div",{staticClass:"inputnumber"},[t("div",{staticClass:"tips4"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"减少当前变体/型号的拍摄数量",placement:"top"}},[t("button",{class:{disabled:1==i.row.video_num||""==i.row.title},attrs:{disabled:1==i.row.video_num||""==i.row.title},on:{click:function(e){i.row.video_num--},mouseup:function(t){return e.handleChange(i.row.video_tip,i.row.video_num-1,i.row.id,i.row.budget,i.$index)}}},[e._v(" - ")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:i.row.video_num,expression:"scope.row.video_num"}],attrs:{type:"text",readonly:""},domProps:{value:i.row.video_num},on:{input:function(t){t.target.composing||e.$set(i.row,"video_num",t.target.value)}}}),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"增加当前变体/型号的拍摄数量",placement:"top"}},[t("button",{class:{disabled:""==i.row.title},attrs:{disabled:""==i.row.title},on:{click:function(e){i.row.video_num++},mouseup:function(t){return e.handleChange(i.row.video_tip,i.row.video_num+1,i.row.id,i.row.budget,i.$index)}}},[e._v(" + ")])])],1)]):e._e()]}}])}),t("el-table-column",{attrs:{label:"拍摄预算/¥",width:"140"},scopedSlots:e._u([{key:"default",fn:function(i){return[2!=i.row.flag?t("div",{staticStyle:{"padding-left":"25px"}},[t("el-form",{ref:"ruleForm"+i.$index,staticClass:"elform",attrs:{model:i.row}},[t("el-form-item",{attrs:{prop:"budget"}},[t("el-input",{staticClass:"elinput",staticStyle:{height:"32px",width:"74px"},attrs:{disabled:""==i.row.title},on:{input:function(t){return e.budgetChange(i.row.budget,i.$index,i.row.video_num)},blur:function(t){return e.budgetBlur(i.row.budget,i.row.id,i.$index,i.row.video_num)}},model:{value:i.row.budget,callback:function(t){e.$set(i.row,"budget",t)},expression:"scope.row.budget"}})],1)],1)],1):e._e()]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[2!=i.row.flag?t("div",{staticStyle:{"padding-left":"20px"}},[t("ul",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column"}},[""!=i.row.title?t("li",{staticClass:"operate"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制后可编辑创建其他变体/型号需求",placement:"top"}},[t("span",{staticClass:"operate1",on:{click:function(t){return e.operatedialog(i.$index)}}},[t("i",{staticClass:"iconfont icon-fz"}),e._v(" 复制")])])],1):e._e(),t("li",{staticClass:"operate"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除该行内容",placement:"top",enterable:!1}},[t("span",{staticClass:"operate2",on:{click:function(t){return e.deletesubmitForm(i.row.id,i.$index)}}},[t("i",{staticClass:"iconfont icon-sc"}),e._v(" 删除")])])],1)])]):t("div",{staticStyle:{"padding-left":"25px"}},[t("div",{staticClass:"adddemand"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增一行",placement:"top"}},[t("i",{staticClass:"el-icon-circle-plus",on:{click:e.adddemand}})])],1)])]}}])})],1)],1),t("div",{class:{ifsubmitTo:e.ifsubmitTo,RequirementBtn:!0}},[t("button",{on:{click:e.submitTo}},[e._v("上传")])])]),t("el-dialog",{attrs:{title:"请确认",visible:e.centerDialogVisibles,width:"20%",center:""},on:{"update:visible":function(t){e.centerDialogVisibles=t}}},[t("p",{staticStyle:{"text-align":"center"}},[e._v("是否删除该拍摄需求？")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("button",{staticStyle:{width:"120px",height:"32px","border-radius":"5px",border:"1px solid #eeeeee",cursor:"pointer",margin:"0 5px",color:"#999999"},on:{click:function(t){e.centerDialogVisibles=!1}}},[e._v(" 取 消 ")]),t("button",{staticStyle:{width:"120px",height:"32px",background:"#d161f6","border-radius":"5px",cursor:"pointer",border:"none",margin:"0 5px",color:"#ffffff"},on:{click:e.deletecenterDialogVisibles}},[e._v(" 确 定 ")])])]),t("ListOfInfluencersdialog",{attrs:{datalistdialogVisible:e.datalistdialogVisible,influencersList:e.influencersList,influencersListid:e.influencersListid},on:{setdatalistdialogVisible:e.getdatalistlogMsg,getlist:e.getlist}}),t("FillingRequirementsdialog",{attrs:{isFillingRequirementsdialogVisible:e.FillingRequirementsdialogVisible,reqsearch:e.reqsearch,determine:e.determine,RequirementsList:e.RequirementsList,FillingRequirementid:e.FillingRequirementid},on:{isFillingRequirementsdialogVisible:e.getChildMsg}}),t("Tipsdialog",{attrs:{TipsdialogdialogVisible:e.TipsdialogdialogVisible,video_id:e.video_id,reqsearch:e.reqsearch},on:{getTipsdialogMsg:e.getTipsdialogMsg}}),t("Notedialog",{attrs:{NotedialogdialogVisible:e.NotedialogdialogVisible},on:{getNotedialogMsg:e.getNotedialogMsg}}),t("dialogVisibleTips1",{attrs:{TipsdialogVisible1:e.TipsdialogVisible1},on:{getTipsdialogVisible1:e.getTipsdialogVisible1}}),t("Successfullyejectedialog",{attrs:{Successfullyejectedialog:e.Successfullyejectedialog},on:{getSuccessfullyejectedialogMsg:e.getSuccessfullyejectedialogMsg}})],1)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"headertop"},[t("a",{attrs:{href:"/",target:"_blank"}},[t("img",{attrs:{src:i(2115)}})])])}],l=(i(7658),i(586)),n=i(9980),o=i.n(n),r=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.isFillingRequirementsdialogVisible,width:e.widthVisble,center:"","before-close":e.beforeClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isFillingRequirementsdialogVisible=t}}},[t("div",{staticClass:"dialog"},[t("div",{staticClass:"box"},[t("h1",[e._v(e._s(e.dialogTitle))]),t("p",{staticClass:"tiele"},[t("span",{staticStyle:{color:"#ed4014"}},[e._v("注")]),e._v("：请勿遗漏或填错，提交后不可再修改，平台不接受事后补充/变更需求 ")]),t("div",{staticClass:"formitem"},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("div",{staticClass:"formitem_div"},[t("el-form-item",{staticClass:"name",attrs:{label:"产品名称",prop:"name"}},[t("el-input",{ref:"ruleForm",attrs:{placeholder:"中文填写，注明变体或型号，例：女性连衣裙（红色）",disabled:0!=e.getstate&&4==e.determine},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),t("div",{staticClass:"formitem_div"},[t("el-form-item",{staticClass:"name nametop",attrs:{label:"产品链接/图片",prop:"link"}},[t("div",{staticClass:"formitem_radio"},[t("el-radio",{staticStyle:{"margin-right":"20px"},attrs:{label:"1",disabled:0!=e.getstate&&4==e.determine},model:{value:e.formradioLink,callback:function(t){e.formradioLink=t},expression:"formradioLink"}},[e._v("有链接")]),t("el-radio",{attrs:{label:"2",disabled:0!=e.getstate&&4==e.determine},model:{value:e.formradioLink,callback:function(t){e.formradioLink=t},expression:"formradioLink"}},[e._v("无链接")])],1),"1"==e.formradioLink?t("el-input",{attrs:{placeholder:"请输入产品链接",disabled:0!=e.getstate&&4==e.determine},model:{value:e.ruleForm.link,callback:function(t){e.$set(e.ruleForm,"link",t)},expression:"ruleForm.link"}}):"2"==e.formradioLink?t("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%"}},[t("el-upload",{class:{"hide-upload-btn":e.hideUploadBtn},attrs:{action:e.localhost+"/api/common/upload",headers:{token:e.token},"list-type":"picture-card",limit:5,"file-list":e.fileList,"on-change":e.upload_change,"on-exceed":e.upload_exceed,disabled:0!=e.getstate&&4==e.determine,"on-success":e.handleAvatarSuccess,"on-progress":e.handleAvatarProgress},scopedSlots:e._u([{key:"file",fn:function({file:i}){return t("div",{},[t("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i.url,alt:""}}),0==e.getstate||4!=e.determine?t("span",{staticClass:"el-upload-list__item-actions"},[e.disabled?e._e():t("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.upload_remove(i)}}},[t("i",{staticClass:"el-icon-delete"})])]):e._e()])}}])},[t("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),t("p",{class:{isred:e.isred},staticStyle:{"font-size":"12px","margin-top":"10px",color:"#999"}},[e._v(" "+e._s(e.handletext)+" ")])],1):e._e()],1)],1),t("div",{staticClass:"formitem_div"},[t("span",{staticClass:"formitem_span"},[e._v("*")]),t("el-form-item",{attrs:{label:"拍摄要求",prop:"ShootingRequirements"}},[t("div",{staticClass:"formitem_radio"},[t("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:"1",disabled:0!=e.getstate&&4==e.determine},model:{value:e.formradioRequirements,callback:function(t){e.formradioRequirements=t},expression:"formradioRequirements"}},[e._v("按要求拍摄")]),t("el-tooltip",{attrs:{effect:"dark",placement:"right-start"}},[t("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[t("p",[e._v("视频要点：")]),t("p",[e._v("1、展示儿童鞋子的包装、款式")]),t("p",[e._v("2、重点讲解材质和做工，体现健康、环保、透气、舒适")]),t("p",[e._v("3、需要展示鞋子的试穿效果，体现夜光效果")]),t("div",{staticStyle:{height:"15px"}}),t("p",[e._v("特殊说明：")]),t("p",[e._v("1、需要2-12岁小孩试穿并出镜")]),t("p",[e._v("2、需要提前吸光，才能体现夜光")]),t("p",[e._v("3、需要提供版权")])]),t("span",{staticStyle:{"margin-right":"20px",color:"#a06cf3","font-size":"12px"}},[e._v("示例")])]),t("el-radio",{staticStyle:{"margin-right":"7px"},attrs:{label:"2",disabled:0!=e.getstate&&4==e.determine},model:{value:e.formradioRequirements,callback:function(t){e.formradioRequirements=t},expression:"formradioRequirements"}},[e._v("红人自由发挥")]),t("span",{staticClass:"formitem_span1"},[e._v("交付较快")])],1),1==e.formradioRequirements?t("el-input",{attrs:{type:"textarea",maxlength:"350",autosize:{minRows:7,maxRows:7},resize:"none",placeholder:"1、简要描述视频要展示的要点，不超过3点\n2、特殊情形/要求，请说明：\n     ①. 产品特殊，如仅适配特定配件或型号\n     ②. 要求特定场地的，如：汽车、泳池、海滩等\n     ③. 要求小孩或宠物出境\n     ④. 要求实际安装，真实使用并演示\n     ⑤. 要求提供版权","show-word-limit":"",disabled:0!=e.getstate&&4==e.determine},model:{value:e.ruleForm.ShootingRequirements,callback:function(t){e.$set(e.ruleForm,"ShootingRequirements",t)},expression:"ruleForm.ShootingRequirements"}}):t("div",{staticClass:"formitem_text"},[t("li",[t("div"),e._v(" 红人将根据产品特点自由发挥拍摄，通常包括开箱演示+卖点讲解 "),t("br")]),t("div",{staticStyle:{"font-size":"12px",margin:"0 0 0 11px"}},[e._v(" +效果展示等内容，交付周期相对较短 ")]),t("li",[t("div"),e._v(" 此模式下，"),t("span",{staticStyle:{"font-weight":"600",color:"#000"}},[e._v("不可重拍或退款")])])])],1)],1),t("div",{staticClass:"formitem_div"},[t("span",{staticClass:"formitem_span",staticStyle:{width:"6.38px"}}),t("el-form-item",{attrs:{label:"敏感信息备注",prop:"notes"}},[t("el-input",{attrs:{placeholder:"如涉及红人敏感信息请备注，如：要年轻漂亮的，不要胖子/瘦子/黑人",disabled:0!=e.getstate&&4==e.determine},model:{value:e.ruleForm.notes,callback:function(t){e.$set(e.ruleForm,"notes",t)},expression:"ruleForm.notes"}})],1)],1)]),t("div",{staticStyle:{display:"flex","justify-content":"center",padding:"24px",width:"461px","box-sizing":"border-box"}},[0==e.getstate||4!=e.determine?t("button",{class:{ifsubmitbtn:e.ifsubmitbtn,submitbtn:!0},on:{click:function(t){return e.submitForm(e.ruleForm)}}},[e._v(" "+e._s(e.submitFormText)+" ")]):t("button",{staticClass:"submitbtn"},[e._v(" "+e._s(e.submitFormText)+" ")])])],1)]),t("div",{staticClass:"Boundary"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.ifxian,expression:"ifxian"}],staticClass:"xian",staticStyle:{"margin-bottom":"15px"}},[e._v("   ")]),t("span",{on:{click:e.addwidthVisble}},[e._v("模板填写")]),"500px"==e.widthVisble?t("i",{staticClass:"iconfont icon-anniu-jiantouxiangyou",on:{click:e.addwidthVisble}}):t("i",{staticClass:"iconfont icon-anniu_jiantouxiangzuo",on:{click:e.addwidthVisble}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ifxian,expression:"ifxian"}],staticClass:"xian",staticStyle:{"margin-top":"15px"}},[e._v("   ")])]),"900px"==e.widthVisble?t("div",{staticClass:"box2"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.ifwidthVisble,expression:"ifwidthVisble"}]},[t("h1",[e._v("模板填写")]),t("div",{staticClass:"Fillinthetemplate"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Fillinthetemplateval,expression:"Fillinthetemplateval"}],attrs:{id:"textarea",placeholder:"使用方法：\n1、复制模板\n2、按格式编辑内容\n3、将内容粘贴到此区域\n4、一键填写"},domProps:{value:e.Fillinthetemplateval},on:{input:function(t){t.target.composing||(e.Fillinthetemplateval=t.target.value)}}})]),t("div",{staticClass:"box2btns"},[t("button",{class:{btn1:!0,ifbtn1:e.ifbtn1},on:{click:function(t){return e.OneClickFilling(e.Fillinthetemplateval)}}},[e._v(" 一键填写 ")]),t("button",{class:{btn1:!0,ifbtn1:e.ifbtn1},staticStyle:{margin:"0 10px"},on:{click:function(t){e.Fillinthetemplateval=""}}},[e._v(" 清空 ")]),t("button",{staticClass:"btn2",on:{click:e.handleCopy}},[e._v("复制模板")])])])]):e._e()])])],1)},d=[],c={name:"FillingRequirementsdialog",props:["isFillingRequirementsdialogVisible","reqsearch","determine","RequirementsList","FillingRequirementid","getstate"],data(){return{dialogTitle:"产品及拍摄要求",submitFormText:"确认",widthVisble:"500px",ruleForm:{name:"",link:"",notes:"",ShootingRequirements:""},rules:{name:[{required:!0,message:"请填写产品名称",trigger:"blur"},{max:25,message:"长度在25个字符以内",trigger:"change"}],link:[{required:!0,message:"请上传产品链接或图片",trigger:"change"}]},formradioLink:"1",formradioRequirements:"1",Fillinthetemplateval:"",dialogImageUrl:"",dialogVisible:!1,disabled:!1,fileList:[],upload_List:[],ifsubmitbtn:!1,localhost:"http://testaiapi.blhltd.com",token:"",ifbtn1:!0,ifwidthVisble:!1,RequirementID:0,objold:{},ifxian:!1,hideUploadBtn:!1,handletext:"请上传图片，不超过5M，支持jpg/png",isred:!1}},methods:{handleAvatarProgress(){console.log("开始"),this.handletext="图片正在上传中......"},handleAvatarSuccess(){console.log("成功"),this.handletext="请上传图片，不超过5M，支持jpg/png"},upload_change:function(e,t){if("image/jpeg"==e.raw.type||"image/png"==e.raw.type){if(e.size>5242880){t.pop();let e="图片过大，请重新上传";return this.$message.error(e),setTimeout((()=>{this.handletext="请上传图片，不超过5M，支持jpg/png"}),1e3),!1}let i=this.fileList.find((t=>t.name==e.name));if(i){t.pop();let i=`您上传的${e.name}，该文件有重名文件，请您重新上传。`;return this.$message.error(i),setTimeout((()=>{this.handletext="请上传图片，不超过5M，支持jpg/png"}),1e3),!1}if(1==e?.response?.code)this.upload_List.push(e),this.fileList=JSON.parse(JSON.stringify(t));else if(0==e?.response?.code)return t.pop(),this.$message.error(e.response.msg),setTimeout((()=>{this.handletext="请上传图片，不超过5M，支持jpg/png"}),1e3),!1}else this.$message.error("图片格式错误，请重新上传"),setTimeout((()=>{this.handletext="请上传图片，不超过5M，支持jpg/png"}),1e3),t.pop();t.length>=5?this.hideUploadBtn=!0:this.hideUploadBtn=!1},upload_remove(e){this.upload_List.forEach(((t,i)=>{t.url==e.url&&(this.upload_List.splice(i,1),this.fileList.splice(i,1))})),setTimeout((()=>{this.hideUploadBtn=!1}),1e3)},upload_exceed(e,t){this.$message.error("您最多只能上传5个文件!")},beforeClose(){this.$emit("isFillingRequirementsdialogVisible",!1)},addwidthVisble(){"500px"==this.widthVisble&&0==this.getstate||4!=this.determine&&"500px"==this.widthVisble?(this.widthVisble="900px",setTimeout((()=>{this.ifwidthVisble=!0,this.ifxian=!0}),1e3)):(this.widthVisble="500px",this.ifwidthVisble=!1,this.ifxian=!1)},async submitForm(e){if(this.ifsubmitbtn&&1==this.determine){let t=[];this.upload_List.forEach((e=>t.push(e.response.data.fullurl)));let i=t.join(","),s={url:e.link,description:e.notes,title:e.name,photograph_guide:this.formradioRequirements,if_product_link:this.formradioLink,photograph_demand:e.ShootingRequirements,image:i,id:this.FillingRequirementid,source:1,auth:localStorage.getItem("said")};const a=await(0,l.Al)(s);1==a.code&&(this.beforeClose(),this.reqsearch())}else if(this.ifsubmitbtn&&2==this.determine){let t=[];this.upload_List.forEach((e=>{e.response?t.push(e.response.data.fullurl):t.push(e.url)}));let i=t.join(","),s={id:this.RequirementID,title:e.name,url:e.link,description:e.notes,if_product_link:this.formradioLink,photograph_guide:this.formradioRequirements,photograph_demand:e.ShootingRequirements,image:i,source:1,auth:localStorage.getItem("said")};const a=await(0,l.Al)(s);1==a.code&&(this.beforeClose(),this.reqsearch())}else if(this.ifsubmitbtn&&1*this.determine==3){if(this.ifsubmitbtn=!1,this.objold.description==e.notes&&this.objold.url==e.link&&this.objold.title==e.name&&this.objold.photograph_guide==this.formradioRequirements&&this.objold.if_product_link==this.formradioLink&&this.objold.photograph_demand==e.ShootingRequirements){this.ifsubmitbtn=!1;const e=this.$createElement;return void this.$message({message:e("p",{style:"display: flex"},[e("div",{style:"width: 18px;height: 18px;background: #EDBB32;border-radius: 50%;text-align: center;line-height: 12px;color: white;"},"¡"),e("span",{style:"font-size: 12px;color: #FFFFFF;margin:0 0 0 6px"},"请修改后保存")]),iconClass:"iconfont",offset:140,customClass:"customClasssuccess"})}{let t=[];this.upload_List.forEach((e=>{e.response?t.push(e.response.data.fullurl):t.push(e.url)}));let i=t.join(","),s=new URL(window.location.href),a=s.searchParams.get("needs"),n={url:e.link,description:e.notes,title:e.name,photograph_guide:this.formradioRequirements,if_product_link:this.formradioLink,photograph_demand:e.ShootingRequirements,image:i,source:1,url_mark:a,auth:localStorage.getItem("said")};const o=await(0,l.LV)(n);if(1==o.code){this.beforeClose(),this.reqsearch();let e=localStorage.getItem("addnum")-1;e<=0&&(e=0),localStorage.setItem("addnum",e)}}}else if(this.ifsubmitbtn&&4==this.determine){let t=[];this.upload_List.forEach((e=>t.push(e.response?.data.fullurl||e.url)));let i=t.join(","),s={url:e.link,description:e.notes,title:e.name,photograph_guide:this.formradioRequirements,if_product_link:this.formradioLink,photograph_demand:e.ShootingRequirements,image:i,id:this.FillingRequirementid};const a=await(0,l.Dp)(s);1==a.code&&(this.reqsearch(),this.beforeClose())}},handleCopy(){let e="【产品名称】\n 儿童滑轮鞋（带夜光）\n//产品中文名+（变体/型号）//\n\n\n【产品链接】\nhttps://www.amazon.com/gp/product/B0C3375GZL?m=A1LDY0ENXBBJ38&th=1\n//没有链接则不填//\n\n\n【拍摄要求】\n视频要点1：展示儿童鞋子的包装、款式...\n视频要点2：重点讲解材质和做工，体现健康、环保、透气、舒适...\n视频要点3：需要展示鞋子的试穿效果，体现夜光效果...\n\n特殊说明1：需要2-12岁小孩试穿并出镜...\n特殊说明2：需要提前吸光，才能体现夜光...\n特殊说明3：需要提供版权...\n\n//视频要点+特殊说明//\n\n【敏感信息备注】\n 不要肥胖及银色头发的...\n\n//不便直接传达给红人的敏感信息//",t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.$message({message:"复制成功",type:"success"})},async OneClickFilling(e){if(e.length>50){const t=await(0,l.d2)({str:e});1==t.code?(this.ruleForm.name=t.data.name,this.ruleForm.link=t.data.link,this.ruleForm.ShootingRequirements=t.data.request?.replace(/\\n/g,"\n"),this.ruleForm.notes=t.data.desc?.replace(/\\n/g,"\n")):this.$message.error(t.msg)}else this.$message.error("解析失败")},ifsubmitisTrue(){""!=this.ruleForm.name&&1==this.formradioLink&&""!=this.ruleForm.link&&"2"==this.formradioRequirements||""!=this.ruleForm.name&&1==this.formradioLink&&""!=this.ruleForm.link&&"1"==this.formradioRequirements&&""!=this.ruleForm.ShootingRequirements||""!=this.ruleForm.name&&2==this.formradioLink&&0!=this.upload_List.length&&"1"==this.formradioRequirements&&""!=this.ruleForm.ShootingRequirements||""!=this.ruleForm.name&&2==this.formradioLink&&0!=this.upload_List.length&&"2"==this.formradioRequirements?this.ifsubmitbtn=!0:this.ifsubmitbtn=!1,console.log(this.ifsubmitbtn)}},mounted(){this.token=localStorage.getItem("token")},watch:{ruleForm:{handler(e,t){""!=e.name&&""!=e.link&&""!=e.ShootingRequirements||""!=e.name&&0!=this.upload_List.length&&"1"!=this.formradioRequirements||""!=e.name&&""!=e.link&&"1"!=this.formradioRequirements||""!=e.name&&0!=this.upload_List.length&&""!=e.ShootingRequirements&&2==this.formradioLink?this.ifsubmitbtn=!0:this.ifsubmitbtn=!1,3==this.determine&&e.name==this.RequirementsList.title&&e.link==this.RequirementsList.url&&e.ShootingRequirements==this.RequirementsList.photograph_demand&&e.notes==this.RequirementsList.description&&(this.ifsubmitbtn=!1)},immediate:!0,deep:!0},upload_List(e){if(0!=e.length?(this.rules.link[0].required=!1,this.$nextTick((()=>{this.$refs["ruleForm"].fields[1].validateMessage="",this.$refs["ruleForm"].fields[1].validateState=""}))):(this.rules.link[0].required=!0,this.$nextTick((()=>{this.$refs["ruleForm"].fields[1].validateMessage="请上传产品链接或图片",this.$refs["ruleForm"].fields[1].validateState="error"}))),e.length>=5?this.hideUploadBtn=!0:this.hideUploadBtn=!1,3==this.determine)if(e.length===this.RequirementsList.image.length||0==e.length){for(let t=0;t<e.length;t++)if(e[t].url!==this.RequirementsList.image[t])return void(this.ifsubmitbtn=!0);this.ifsubmitbtn=!1}else this.ifsubmitbtn=!0;else this.$nextTick((()=>this.ifsubmitisTrue()))},formradioRequirements(e){3==this.determine?this.ruleForm.name==this.RequirementsList.title&&this.ruleForm.link==this.RequirementsList.url&&this.ruleForm.notes==this.RequirementsList.description&&this.RequirementsList.photograph_guide==e?this.ifsubmitbtn=!1:this.ifsubmitbtn=!0:this.$nextTick((()=>this.ifsubmitisTrue()))},Fillinthetemplateval(e){this.ifbtn1=""==e},determine(e){3===e?setTimeout((()=>{this.ifsubmitbtn=!1,this.dialogTitle="复制成功，请修改后保存",this.submitFormText="保存"}),100):(this.submitFormText="确认",this.dialogTitle="产品及拍摄要求")},RequirementsList(e){if(0!=e.length){if(this.objold=e,this.RequirementID=e.id,this.ruleForm.name=e.title,this.ruleForm.link=e.url,this.ruleForm.notes=e.description,this.ruleForm.ShootingRequirements=e.photograph_demand,this.formradioLink=e.if_product_link+"",this.formradioRequirements=e.photograph_guide+"",0!=e.image.length&&Array.isArray(e.image))this.fileList=e.image.map((e=>({["url"]:e}))),this.upload_List=e.image.map((e=>({["url"]:e})));else if(""!=e.image){let t=e.image.split(",");this.fileList=t.map((e=>({["url"]:e}))),this.upload_List=t.map((e=>({["url"]:e})))}0==this.fileList.length&&""==this.ruleForm.link&&setTimeout((()=>{this.$refs["ruleForm"].fields[1].validateMessage="请上传产品链接或图片",this.$refs["ruleForm"].fields[1].validateState="error"}),500)}},isFillingRequirementsdialogVisible(e){0==e?(this.upload_List,this.formradioLink="1",this.formradioRequirements="1",this.ruleForm.name="",this.ruleForm.link="",this.ruleForm.notes="",this.ruleForm.ShootingRequirements="",this.widthVisble="500px",this.ifwidthVisble=!1,this.Fillinthetemplateval="",this.rules.name[0].required=!1,this.ifxian=!1,this.fileList=[],this.upload_List=[],this.$nextTick((()=>{this.$refs["ruleForm"].fields[0].validateMessage="",this.$refs["ruleForm"].fields[0].validateState="",this.$refs["ruleForm"].fields[1].validateMessage="",this.$refs["ruleForm"].fields[1].validateState=""}))):this.rules.name[0].required=!0},formradioLink(e){1==e&&(this.fileList=[],this.upload_List.forEach((e=>{e.response?this.fileList.push({["url"]:e.response.data.url}):this.fileList.push({["url"]:e.url})})),this.upload_List=this.fileList),this.$nextTick((()=>{3!=this.determine&&this.ifsubmitisTrue()})),0==this.fileList.length&&""==this.ruleForm.link||this.$nextTick((()=>{this.$refs["ruleForm"].fields[1].validateMessage="",this.$refs["ruleForm"].fields[1].validateState=""}))},handletext(e){this.isred="图片正在上传中......"==e}}},u=c,h=i(1001),g=(0,h.Z)(u,r,d,!1,null,"55e3c09f",null),m=g.exports,f=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"温馨提示",visible:e.TipsdialogdialogVisible,width:"408px","before-close":e.beforeClose,"show-close":!1,"close-on-click-modal":!1,center:""},on:{"update:visible":function(t){e.TipsdialogdialogVisible=t}}},[t("p",{staticClass:"prompt_p1"},[e._v(" 1、此处为增加 "),t("span",{staticStyle:{"font-weight":"600",color:"#333"}},[e._v("同一变体或型号")]),e._v(" 产品的视频拍摄数量 ")]),t("p",{staticClass:"prompt_p2"},[e._v(" 2、如需拍摄产品其他变体或型号的视频，请通过 "),t("span",{staticStyle:{"font-weight":"600",color:"#333"}},[e._v("“复制”")]),e._v(" 按钮进行操作 ")]),t("div",{staticClass:"prompt_btn"},[t("button",{on:{click:e.Dontpromptagain}},[e._v("知道了")])])])],1)},p=[],v={props:["TipsdialogdialogVisible","getTipsdialogMsg","video_id","reqsearch"],data(){return{}},methods:{beforeClose(){this.$emit("getTipsdialogMsg",!1)},async Dontpromptagain(){const e=await(0,l.jP)({id:this.video_id,budget_tip:"2",source:1,auth:localStorage.getItem("said")});1==e.code&&(this.reqsearch(),this.beforeClose())}}},b=v,_=(0,h.Z)(b,f,p,!1,null,"2a40a9b6",null),x=_.exports,y=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.datalistdialogVisible,width:"983px","before-close":e.beforeClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.datalistdialogVisible=t}}},[t("i",{directives:[{name:"screenfull",rawName:"v-screenfull"}],staticClass:"el-icon-full-screen"}),t("div",{attrs:{id:"buyershow"}},[t("el-backtop",{attrs:{target:"#buyershow"}},[t("i",{staticClass:"iconfont icon-fhdb1",staticStyle:{color:"#999"}})]),t("div",{staticClass:"banxin"},[e.isloading?t("div",{staticClass:"loading"}):e._e(),t("div",{staticClass:"searchfor"},[t("el-input",{staticClass:"inp",attrs:{placeholder:"输入产品名称/品类/红人编号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getRenderingData.apply(null,arguments)}},model:{value:e.searchforval,callback:function(t){e.searchforval=t},expression:"searchforval"}}),t("el-button",{staticClass:"searchforbtn",on:{click:e.getRenderingData}},[e._v("搜索")])],1),t("div",{staticClass:"screen"},[t("div",{staticClass:"filter_header"},[t("div",{staticClass:"filter_item"},[t("span",[e._v("达人性别")]),t("el-radio-group",{on:{change:function(t){return e.handlerSearchList("genderdata",e.genderValue)}},model:{value:e.genderValue,callback:function(t){e.genderValue=t},expression:"genderValue"}},[t("el-radio-button",{attrs:{label:""}},[e._v("全部")]),t("el-radio-button",{attrs:{label:"male"}},[e._v("男性")]),t("el-radio-button",{attrs:{label:"female"}},[e._v("女性")])],1)],1),t("div",{staticClass:"filter_item"},[t("span",[e._v("产品品类")]),t("el-radio-group",{on:{change:function(t){return e.handlerSearchList("category_id",e.categoryValue)}},model:{value:e.categoryValue,callback:function(t){e.categoryValue=t},expression:"categoryValue"}},[t("el-radio-button",{attrs:{label:""}},[e._v("全部")]),e._l(e.categoryList,(function(i,s){return t("el-radio-button",{key:s,attrs:{label:i.id}},[e._v(e._s(i.name))])}))],2)],1),t("div",{staticStyle:{height:"1px","background-color":"#eee"}}),t("div",{staticClass:"filter_item",staticStyle:{"margin-top":"10px"}},[t("span",[e._v("主题专区")]),t("el-radio-group",{on:{change:function(t){return e.handlerSearchList("theme_id",e.themeValue)}},model:{value:e.themeValue,callback:function(t){e.themeValue=t},expression:"themeValue"}},[t("el-radio-button",{attrs:{label:""}},[e._v(" 全部 ")]),e._l(e.themeList,(function(i,s){return t("el-radio-button",{key:s,attrs:{label:i.id}},[t("div",[e._v(" "+e._s(i.name)+" ")])])}))],2)],1)])]),t("div",{staticClass:"seek"},[t("div",{staticClass:"seek_div"},[t("div",{staticClass:"seek_div_span"},[e._v("找到 "+e._s(e.total)+" 个")]),t("div",{staticClass:"seek_divd"},[t("span",[e._v("价格 ≤")]),t("el-input",{staticClass:"priceinp",on:{change:e.getRenderingData},model:{value:e.priceval,callback:function(t){e.priceval=t},expression:"priceval"}}),t("span",[e._v("元")])],1)])]),t("div",{staticClass:"product"},[0!=e.datalist.length?t("ul",{staticClass:"product_ul"},e._l(e.datalist,(function(i,s){return t("li",{key:i.user_id,staticClass:"product_li"},[t("div",{staticClass:"product_li_img",on:{click:function(t){return e.gohomepage(i.user_id)}}},[t("img",{attrs:{src:i.image}})]),t("div",{staticClass:"product_list"},[t("div",{staticClass:"product_list_div1"},[t("div",{staticClass:"product_list_left"},[t("div",{staticClass:"product_list_no"},[e._v("No."+e._s(i.user_id))]),"影响力者"==i.type?t("div",{staticClass:"product_list_typelv"},[e._v(" "+e._s(i.type)+" ")]):e._e(),"社媒红人"==i.type?t("div",{staticClass:"product_list_typeho"},[e._v(" "+e._s(i.type)+" ")]):e._e(),"数字人"==i.type?t("div",{staticClass:"product_list_typelan"},[e._v(" "+e._s(i.type)+" ")]):e._e(),"素人"==i.type?t("div",{staticClass:"product_list_typechen"},[e._v(" "+e._s(i.type)+" ")]):e._e()]),0==i.price_type?t("div",{staticClass:"product_list_rigth"},[e._v(" ￥"+e._s(i.price)+" ")]):1==i.price_type?t("div",{staticClass:"product_list_rigth"},[e._v(" ￥"),t("span",[e._v(e._s(i.lower_price)+"-"+e._s(i.highest_price))])]):t("div",{staticClass:"product_list_rigth",staticStyle:{"font-size":"11px"}},[e._v(" 视产品而定 ")])]),i.category_ids.length<=5?t("div",{staticClass:"product_list_div2",attrs:{title:e.categoryidarr[s]}},e._l(i.category_ids,(function(i,s){return t("li",{key:s},[e._v(" "+e._s(i.name)+" ")])})),0):t("div",{staticStyle:{display:"flex"},attrs:{title:e.categoryidarr[s]}},[t("div",{staticClass:"product_list_div2"},e._l(i.category_ids,(function(i,s){return t("li",{key:s},[e._v(" "+e._s(i.name)+" ")])})),0),t("span",[e._v("...")])]),t("div",{staticStyle:{height:"1px","background-color":"#eee","margin-top":"15px"}}),t("ul",{staticClass:"product_list_videos"},[e._l(e.isvideoslist[s],(function(s,a){return t("li",{key:s.user_id,attrs:{title:s.desc},on:{click:function(t){return e.openVideos(i.videos,a)}}},[t("i",{staticClass:"iconfont icon-video",staticStyle:{"font-size":"14px"}}),t("span",[e._v(" "+e._s(s.desc))])])})),i.videos.length>=12?t("li",{staticStyle:{width:"22px","text-align":"center",display:"block",background:"linear-gradient(","border-radius":"4px"},on:{click:function(t){return e.gohomepage(i.user_id)}}},[e._v(" . . . ")]):e._e()],2)]),t("div",{ref:"addbtndom",refInFor:!0,class:{product_btn:0!=i.istrue,addlistbj:0==i.istrue},on:{click:function(t){return e.addlist(i,s,i.istrue)}}},[t("span",{staticClass:"icon"},[e._v("+")]),t("i",{staticClass:"iconfont icon-gwc",staticStyle:{"font-size":"14px"}}),0==i.istrue?t("span",{staticClass:"test1"},[e._v("已选择")]):t("span",{staticClass:"test1"},[e._v("选择")])])])})),0):t("div",{staticClass:"product_div"},[t("img",{attrs:{src:i(9166),alt:""}}),t("p",[e._v("暂无搜索结果")])])])]),t("el-dialog",{attrs:{visible:e.dialogVisible,width:"880px","close-on-click-modal":!1,"append-to-body":!0,"custom-class":"my-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"eldialogVisble"},[t("div",{staticStyle:{width:"650px"}},[t("div",{staticClass:"leftVis"},[t("video",{ref:"myVideo",attrs:{autoplay:"",controls:"",preload:"none"},on:{play:function(t){e.video_img=!0},pause:function(t){e.video_img=!1}}},[t("source",{attrs:{src:e.videoslist[e.videoslistindex]?.file,type:"video/mp4"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.video_img,expression:"!video_img"}],staticClass:"video_img",on:{click:e.videoplay}})]),t("div",{staticClass:"title",attrs:{title:e.videoslist[e.videoslistindex]?.desc}},[e._v(" "+e._s(e.videoslist[e.videoslistindex]?.desc)+" ")])]),t("div",{staticClass:"rigthlist"},[t("p",{staticClass:"rigthlist_p"},[e._v("作品案例")]),e._l(e.videoslist,(function(i,s){return t("p",{key:i.id,class:{videoslistcss:i.videoslistcss,falg:!0},attrs:{title:i.desc},on:{click:function(t){return e.SwitchVideo(e.videoslist,s)}}},[t("i",{staticClass:"iconfont icon-video"}),e._v(" "+e._s(i.desc)+" ")])}))],2)])])],1),[t("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.datalist.length,expression:"datalist.length != 0"}],staticClass:"paging"},[0!=e.total?t("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[12,24,48,96],"page-size":e.per_page,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)]],2)],1)},w=[],C=i(1316),k={props:["datalistdialogVisible","influencersList","influencersListid"],data(){return{searchforval:"",genderValue:"",categoryValue:"",themeValue:"",categoryList:[],themeList:[],total:0,per_page:0,priceval:"",datalist:[],currentPage:1,pageSize:24,dialogVisible:!1,video_img:!0,videoslist:[],videoslistindex:0,prevIndexArr:[],indexArr:[],categoryidarr:[],isvideoslist:[],isloading:!1}},created(){this.currentPage=C.Z.state.Index.currentPage,this.genderValue=C.Z.state.Index.dataobj.genderValue,this.categoryValue=C.Z.state.Index.dataobj.categoryValue,this.themeValue=C.Z.state.Index.dataobj.themeValue,this.searchforval=C.Z.state.Index.dataobj.searchforval,this.priceval=C.Z.state.Index.dataobj.priceval},mounted(){this.isloading=!0,this.handlerGetCategory("influencer"),this.handlerGetCategory("theme_area"),this.RenderingData()},methods:{beforeClose(){this.$emit("setdatalistdialogVisible",!1)},handlerGetCategory(e){(0,l.n3)({type:e}).then((t=>{if(1===t.code)switch(e){case"influencer":this.categoryList=t.data;break;case"theme_area":this.themeList=t.data;default:break}})).catch((e=>{this.$message.error(e.msg)}))},handlerSearchList(e,t){switch(this.currentPage=1,this.isloading=!0,e){case"genderdata":this.genderValue=t;break;case"category_id":this.categoryValue=t;break;case"theme_id":this.themeValue=t;break;default:break}let i={genderValue:this.genderValue,categoryValue:this.categoryValue,themeValue:this.themeValue,searchforval:this.searchforval,priceval:this.priceval};C.Z.commit("Index/setdataobj",i),this.RenderingData()},getRenderingData(){this.isloading=!0;let e={genderValue:this.genderValue,categoryValue:this.categoryValue,themeValue:this.themeValue,searchforval:this.searchforval,priceval:this.priceval};C.Z.commit("Index/setdataobj",e),this.currentPage=1,this.RenderingData()},RenderingData(){this.datalist=[],this.isvideoslist=[],this.categoryidarr=[],this.getdata(this.currentPage,this.pageSize,this.genderValue,this.categoryValue,this.themeValue,this.priceval,this.searchforval)},getdata(e,t,i,s,a,n,o){let r={keyword:o,genderdata:i,type:[],price:n,category_id:s,page:e,pageSize:t,order:"",orderType:"",theme_id:a};(0,l.eO)(r).then((e=>{if(this.isloading=!1,1==e.code){this.total=e.data.total,this.per_page=e.data.per_page,this.datalist=e.data.data,this.currentPage=e.data.current_page;let t=[];this.datalist.forEach((e=>{if(t.push(e.category_ids),e.videos.length>=12){let t=e.videos.slice(0,10);this.isvideoslist.push(t)}else this.isvideoslist.push(e.videos)})),t.forEach((e=>{let t=e.map((e=>e.name)),i=t.join(" | ");this.categoryidarr.push(i)})),this.InvertList()}})).catch((e=>{this.$message.error(e.msg)}))},openVideos(e,t){this.dialogVisible=!0,this.videoslistindex=t,e.forEach((e=>e.videoslistcss=!1)),this.videoslist=e,this.videoslist[t].videoslistcss=!0,this.$nextTick((()=>{const e=this.$refs.myVideo;e.pause(),e.load(),e.play()}))},SwitchVideo(e,t){const i=this.$refs.myVideo;i.pause(),i.load(),i.play(),this.videoslistindex=t,e.forEach((e=>e.videoslistcss=!1)),this.videoslist=e,this.videoslist[t].videoslistcss=!0},async addlist(e,t,i){if(0==i)return;if(5==this.influencersList.length){const e=this.$createElement;return void this.$message({message:e("p",{style:"display: flex"},[e("div",{style:"width: 18px;height: 18px;background: #EDBB32;border-radius: 50%;text-align: center;line-height: 12px;color: white;"},"¡"),e("span",{style:"font-size: 12px;color: #FFFFFF;margin:0 0 0 6px"},"该需求最多可添加5个意向红人")]),iconClass:"iconfont",offset:140,customClass:"customClasssuccess"})}this.$refs.addbtndom[t].classList.add("addlistbj"),this.$refs.addbtndom[t].classList.remove("product_btn"),this.$refs.addbtndom[t].querySelector(".test1").textContent="已选择",0!=e.istrue&&this.influencersList.length<5&&(this.influencersList.push(e),C.Z.commit("Index/setinfluencersList",this.influencersList),C.Z.commit("Index/setinfluencersListid",this.influencersListid)),this.datalist[t].istrue=!1;const s=this.$createElement;this.$message({message:s("p",{style:"display: flex"},[s("div",{style:"width: 13px;height: 13px;background: #fff;border-radius: 50%;margin-top: 1px;position: relative;"},[s("i",{class:"iconfont icon-cg",style:""},"")]),s("span",{style:"font-size: 12px;color: #FFFFFF;margin:0 0 0 8px"},"添加成功")]),iconClass:"iconfont",offset:140,customClass:"customClasssuccess"})},InvertList(){let e=this;C.Z.commit("Index/setinfluencersList",this.influencersList),C.Z.commit("Index/setinfluencersListid",this.influencersListid),e.influencersList.flat().forEach((t=>{let i=e.datalist.findIndex((e=>e.user_id==t.user_id));-1!=i&&(e.datalist[i].istrue=!1)}))},gohomepage(e){window.open(window.location.origin+"/homepage:"+e)},handleSizeChange(e){this.isloading=!0,this.pageSize=e,this.RenderingData()},handleCurrentChange(e){this.isloading=!0,this.currentPage=e,C.Z.commit("Index/setcurrentPage",e),this.RenderingData()},videoplay(){const e=this.$refs.myVideo;e.play(),this.video_img=!0}},watch:{dialogVisible(e){if(0==e){const e=this.$refs.myVideo;e.pause(),e.load(),this.videoslistindex=-1}},async datalistdialogVisible(e){if(1==e)this.isloading=!0,this.$nextTick((()=>{document.getElementsByClassName("el-pagination__jump")[0].childNodes[0].nodeValue="跳转"})),this.RenderingData();else{let e=this.influencersList.flat().map((e=>e.id)).join(",");if(""!=e){if(0==this.influencersListid){let e=localStorage.getItem("addnum")-1;localStorage.setItem("addnum",e)}let t=new URL(window.location.href),i=t.searchParams.get("needs");await(0,l.gx)({id:this.influencersListid,influencer_ids:e,url_mark:i,auth:localStorage.getItem("said")}).then((e=>{1==e.code&&this.$emit("getlist",!0)}))}this.searchforval="",C.Z.commit("Index/setcurrentPage",1),this.currentPage=1,this.genderValue="",this.themeValue="",this.categoryValue="",this.priceval=""}}}},S=k,F=(0,h.Z)(S,y,w,!1,null,"128cba98",null),V=F.exports,L=i(7514),q=i(9639),I=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{visible:e.Successfullyejectedialog,width:"300px","before-close":e.beforeClose,center:""},on:{"update:visible":function(t){e.Successfullyejectedialog=t}}},[t("div",[t("div",{staticClass:"hearder"},[t("i",{staticClass:"iconfont icon-cg"}),t("div",[e._v("上传成功")])]),t("div",{staticClass:"content"},[e._v(" 您的需求已上传给提报人，为加快视频交付，请尽快"),t("span",[e._v("通知提报人")]),e._v("下单哦~ ")]),t("div",{staticClass:"btn"},[t("el-button",{staticClass:"button",on:{click:e.beforeClose}},[e._v("知道了")])],1)])])],1)},R=[],$={props:["Successfullyejectedialog","getSuccessfullyejectedialogMsg"],data(){return{}},methods:{beforeClose(){this.$emit("getSuccessfullyejectedialogMsg",!1)}}},D=$,T=(0,h.Z)(D,I,R,!1,null,"ee893df6",null),j=T.exports;const z="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var E={randomUUID:z};let M;const N=new Uint8Array(16);function P(){if(!M&&(M="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!M))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return M(N)}const U=[];for(let Y=0;Y<256;++Y)U.push((Y+256).toString(16).slice(1));function B(e,t=0){return U[e[t+0]]+U[e[t+1]]+U[e[t+2]]+U[e[t+3]]+"-"+U[e[t+4]]+U[e[t+5]]+"-"+U[e[t+6]]+U[e[t+7]]+"-"+U[e[t+8]]+U[e[t+9]]+"-"+U[e[t+10]]+U[e[t+11]]+U[e[t+12]]+U[e[t+13]]+U[e[t+14]]+U[e[t+15]]}function Z(e,t,i){if(E.randomUUID&&!t&&!e)return E.randomUUID();e=e||{};const s=e.random||(e.rng||P)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=s[e];return t}return B(s)}var O=Z,A=i(3339),G={data(){return{datalistdialogVisible:!1,formId:"",centerDialogVisibles:!1,tableData:[{flag:1,influencer_info:[]}],handleSelectionChangeList:[],fileDiz:"",FillingRequirementsdialogVisible:!1,determine:1,RequirementsList:{},TipsdialogdialogVisible:!1,video_id:"",timer:null,influencersList:[],influencersListid:0,tableDataTitle:!0,ifsubmitTo:!1,NotedialogdialogVisible:!1,influencerids1:[],influencerids2:[],differentIndices:[],user_id:"",FillingRequirementid:0,style:"min-height:78px;display: block;",TipsdialogVisible1:!1,deletecenterDialogVisiblesindex:0,Successfullyejectedialog:!1,introOption:{prevLabel:"上一步",nextLabel:"下一步",skipLabel:"跳过",doneLabel:"完成",tooltipClass:"intro-tooltip",exitOnEsc:!0,exitOnOverlayClick:!1,keyboardNavigation:!0,showBullets:!1,showProgress:!1,scrollToElement:!0,overlayOpacity:.5,positionPrecedence:["bottom","top","right","left"],disableInteraction:!0,hidePrev:!0,steps:[]},tipsImg1:i(1446),tipsImg2:i(8730),tipsImg3:i(1136),tipsImg4:i(3899),ifGuide:0,num:0}},components:{draggable:o(),FillingRequirementsdialog:m,Tipsdialog:x,ListOfInfluencersdialog:V,Notedialog:L.Z,dialogVisibleTips1:q.Z,Successfullyejectedialog:j},methods:{deletesubmitForm(e,t){if(void 0!=e)this.centerDialogVisibles=!0,this.formId=e,this.deletecenterDialogVisiblesindex=t;else{var i=this.tableData.length-2;this.tableData.splice(i,1);let e=localStorage.getItem("addnum");e--,localStorage.setItem("addnum",e)}},deletecenterDialogVisibles(){this.$nextTick((()=>{this.$refs["ruleForm"+this.deletecenterDialogVisiblesindex].fields[0].validateMessage="",this.$refs["ruleForm"+this.deletecenterDialogVisiblesindex].fields[0].validateState=""})),(0,l.$8)({id:this.formId,source:1,auth:localStorage.getItem("said")}).then((e=>{1==e.code&&(this.reqsearch(),this.centerDialogVisibles=!1)}))},delDr(e,t){(0,l.CN)({id:t,influencer_id:e,auth:localStorage.getItem("said")}).then((e=>{1==e.code&&this.reqsearch()}))},gohomepage(e){window.open(this.$router.resolve({path:`/homepage:${e}`}).href,"_blank")},reqsearch(){let e=new URL(window.location.href),t=e.searchParams.get("needs");(0,l.yC)({url_mark:t,source:1,auth:localStorage.getItem("said")}).then((e=>{if(1==e.code){if(0==e.data.data.length)this.ifsubmitTo=!1,e.data.data.push({flag:1,influencer_info:[],title:"",video_num:"1"}),localStorage.setItem("addnum",0);else if(0!=localStorage.getItem("addnum")){let t=1*localStorage.getItem("addnum");if(t>0)for(let i=1;i<=t;i++)e.data.data.push({flag:1,influencer_info:[],title:"",video_num:"1"})}e.data.data.push({flag:2,influencer_info:[],title:""}),this.tableData=e.data.data,this.tableData.forEach(((e,t)=>{0==e.influencer_info.length&&e.influencer_info.push({ifinfluencerInfo:!0}),""!=e.title?(this.tableData[t].budget=1*this.tableData[t].budget,0!=e.budget?this.tableData[t].budget=1*e.budget:this.tableData[t].budget="",this.budgetChange(e.budget,t,e.video_num)):e.flag||void 0==e.flag?this.tableData[t].budget="":(this.tableData[t].budget="",this.budgetChange(e.budget,t,e.video_num))})),this.tableDataTitle=this.tableData.every((e=>""==e.title)),1==this.ifGuide&&(this.NotedialogdialogVisible=!0)}else localStorage.clear(),A.Z.push("/")}))},adddemand(){var e=this.tableData.length-1;this.tableData.splice(e,0,{flag:1,influencer_info:[],title:"",influencerInfo:!0,video_num:"1"});let t=0;localStorage.getItem("addnum")?t=1*localStorage.getItem("addnum")+1:t++,localStorage.setItem("addnum",t)},submitTo(){if(this.ifsubmitTo){this.ifsubmitTo=!1;const e=this.$loading({lock:!0,text:"上传中...",spinner:"el-icon-loading",background:"#fff",target:document.querySelector(".loading-area")}),t=[];this.tableData.forEach((e=>{e.id&&""!=e.title&&1*e.budget>=300*e.video_num&&""!=e.url&&t.push(e.id)}));const i=t.join(",");let s=new URL(window.location.href),a=s.searchParams.get("needs");(0,l._0)({id:i,url_mark:a,auth:localStorage.getItem("said")}).then((t=>{1==t.code?(this.reqsearch(),this.Successfullyejectedialog=!0,e.close()):(e.close(),this.showMessage(t.msg))})).catch((t=>{e.close(),this.$message.error(t)}))}else 1!=this.tableData.length&&1!=this.tableDataTitle||this.showMessage("您还没有添加任何需求，请添加需求再提交")},gocommodity(e){e&&window.open(e,"_blank")},handleSelectionChange(e){this.handleSelectionChangeList=e},handleChange(e,t,i,s,a){if("false"!=localStorage.getItem("handleChange")&&localStorage.setItem("handleChange",!0),t>=5&&"true"==localStorage.getItem("handleChange")){const e=this.$createElement;let t=this.$message({message:e("p",{style:"display: flex;align-items: center;"},[e("div",{style:"width: 18px;height: 18px;background: #EDBB32;border-radius: 50%;text-align: center;line-height: 12px;color: white;"},"¡"),e("span",{style:"font-size: 12px;color: #FFFFFF;margin:0 10px 0 6px"},"目前一个亚马逊Listing只能上传5个关联视频，多余的视频仅在竞品下方展示"),e("button",{class:"el-message-btn"},"知道了")]),iconClass:"iconfont",offset:140,customClass:"customClasssuccess"});document.querySelectorAll(".el-message-btn").forEach((e=>{e.addEventListener("click",(function(){t.close(),localStorage.setItem("handleChange",!1)}))}))}1==e?(this.TipsdialogdialogVisible=!0,this.video_id=i,this.reqsearch()):this.debounce((async()=>{const e=await(0,l.X_)({id:i+"",video_num:t+"",source:1,auth:localStorage.getItem("said")});1==e.code&&this.budgetChange(s,a,t)}),500)},debounce(e,t){clearTimeout(this.timer),this.timer=setTimeout(e,t)},influencer_infoOnStart(e){this.tableData.forEach((e=>{this.influencerids1.push(e.influencer_info.length)}))},influencer_infoOnEnd(e,t,i){this.tableData.forEach((e=>{this.influencerids2.push(e.influencer_info.length)}));for(let l=0;l<this.influencerids1.length;l++)this.influencerids1[l]!==this.influencerids2[l]&&this.differentIndices.push(l);let s=!0,a=this;if(0!=a.differentIndices){var n=e[a.differentIndices[0]].influencer_info.filter((function(e){return e.user_id==a.user_id})).length,o=e[a.differentIndices[1]].influencer_info.filter((function(e){return e.user_id==a.user_id})).length;s=2!=n&&2!=o}if(s)if(e.forEach((e=>{if(e.influencer_info.length>5){let t=new URL(window.location.href),i=t.searchParams.get("needs");const s=e.influencer_info.pop();(0,l.gx)({influencer_ids:s.id,url_mark:i,auth:localStorage.getItem("said")})}})),0==this.differentIndices.length){let e=this.tableData[t].influencer_info.map((e=>e.id.toString())).join(",");this.getneedsSelectInfluencer(i,e)}else{let e=this.tableData[this.differentIndices[0]].influencer_info.map((e=>e.id?.toString())).join(","),t=this.tableData[this.differentIndices[1]].influencer_info.map((e=>e.id?.toString())).join(",");(this.tableData[this.differentIndices[1]].influencer_info[0]?.ifinfluencerInfo||this.tableData[this.differentIndices[1]].influencer_info[1]?.ifinfluencerInfo)&&(t=parseInt(t.replace(",",""))+""),(this.tableData[this.differentIndices[0]].influencer_info[0]?.ifinfluencerInfo||this.tableData[this.differentIndices[0]].influencer_info[1]?.ifinfluencerInfo)&&(e=parseInt(e.replace(",",""))+""),this.getneedsSelectInfluencer(this.tableData[this.differentIndices[0]].id,e),this.getneedsSelectInfluencer(this.tableData[this.differentIndices[1]].id,t)}else this.reqsearch();this.influencerids1=[],this.influencerids2=[],this.differentIndices=[]},influencerinfomousedown(e){this.user_id=e.user_id},async getneedsSelectInfluencer(e,t){let i=new URL(window.location.href),s=i.searchParams.get("needs");await(0,l.gx)({url_mark:s,id:e,influencer_ids:t,auth:localStorage.getItem("said")});let a=",",n=!0;t.toLowerCase().includes(a.toLowerCase())?console.log("字符串（忽略大小写）包含逗号"):(this.reqsearch(),n=!1),""==t&&n&&this.reqsearch()},Fillintherequirements(e){this.FillingRequirementsdialogVisible=!0,this.FillingRequirementid=e,this.determine=e?1:"3"},openFillingRequirementsdialog(e){this.RequirementsList=this.tableData[e],this.FillingRequirementsdialogVisible=!0,this.determine=2},operatedialog(e){this.RequirementsList=this.tableData[e],this.FillingRequirementsdialogVisible=!0,this.determine=3},getChildMsg(e){this.FillingRequirementsdialogVisible=e},getTipsdialogMsg(e){this.TipsdialogdialogVisible=e},getdatalistlogMsg(e){this.datalistdialogVisible=e},getlist(e){e&&this.reqsearch()},getNotedialogMsg(e){this.NotedialogdialogVisible=e},getTipsdialogVisible1(e){this.TipsdialogVisible1=e},getSuccessfullyejectedialogMsg(e){this.Successfullyejectedialog=e},budgetChange(e,t,i){if(1*e<300*i)this.ifsubmitTo=!1,this.tableData.map((e=>{(e.budget>=300*e.video_num&&""!=e.url||e.budget>=300*e.video_num&&0!=e.image.length)&&(this.ifsubmitTo=!0)})),this.$nextTick((()=>{this.$refs["ruleForm"+t].fields[0].validateMessage=""!=e?"不能低于300元/个":"请填写预算",this.$refs["ruleForm"+t].fields[0].validateState="error"}));else{let e=!1;this.tableData.map((t=>{(t.budget>=300*t.video_num&&""!=t.title&&""!=t.url||t.budget>=300*t.video_num&&""!=t.title&&0!=t.image.length)&&(e=!0)})),this.ifsubmitTo=!!e,this.$nextTick((()=>{this.$refs["ruleForm"+t].fields[0].validateMessage="",this.$refs["ruleForm"+t].fields[0].validateState=""}))}},async budgetBlur(e,t,i,s){await(0,l.If)({id:t,budget:e,source:1,auth:localStorage.getItem("said")}).then((t=>{1==t.code&&this.budgetChange(e,i,s)}))},Addinfluencers(e,t){e[0]?.ifinfluencerInfo&&void 0==t||0==e.length&&void 0==t?(this.influencersListid=0,this.influencersList=[],this.datalistdialogVisible=!0):(e[0]?.ifinfluencerInfo&&(e=[]),this.influencersList=e,this.influencersListid=t,this.datalistdialogVisible=!0)},httpRequest(e){const t=this.$loading({lock:!0,text:"需求导入中...",spinner:"el-icon-loading",background:"#fff",target:document.querySelector(".loading-area")}),i=new FormData;i.append("file",e.file);let s=new URL(window.location.href),a=s.searchParams.get("needs");(0,l._t)({file:e.file,url_mark:a,auth:localStorage.getItem("said")}).then((e=>{this.reqsearch(),1==e.code?(t.close(),this.$message({message:"导入成功",type:"success",offset:400,center:!0})):(t.close(),this.showMessage("导入失败，请检查Excel表格是否按模板格式填写"))})).catch((e=>{t.close()}))},async getneedsIndex(){var e=document.cookie,t=e.split("; ");let i=!0;for(var s=0;s<t.length;s++){var a=t[s],n=a.split("=")[0],o=a.split("=")[1];"auth"===n&&(i=!1,localStorage.getItem("said")||localStorage.setItem("said",o))}if(i){let e=O();localStorage.setItem("said",e);var r=new Date;r.setMonth(r.getMonth()+6),document.cookie=`auth=${localStorage.getItem("said")}; expires=`+r.toUTCString()}let d=await(0,l.VF)({source:1,auth:localStorage.getItem("said")});1==d.code&&(this.fileDiz=d.data.file,this.ifGuide=d.data.if_guide,this.reqsearch())},showMessage(e){const t=this.$createElement;this.$message({message:t("p",{style:"display: flex"},[t("div",{style:"width: 18px;height: 18px;background: #EDBB32;border-radius: 50%;text-align: center;line-height: 12px;color: white;"},"¡"),t("span",{style:"font-size: 12px;color: #FFFFFF;margin:0 0 0 6px"},e)]),iconClass:"iconfont",offset:140,customClass:"customClasssuccess"})},initGuide(){this.introOption.steps=[{title:"点击这里，添加意向红人",element:".influencerInfo3",intro:`<img src="${this.tipsImg1}" style="width: 540px;height: 304px"/>`,position:"right"},{title:"鼠标上下左右拖动，调整红人匹配顺序",element:".influencerInfoUl",intro:`<img src="${this.tipsImg2}" style="width: 540px;height: 180px"/>`},{title:"点击这里，填写产品及拍摄需求",element:".addbtn"},{title:"点击这里，为同一变体或型号添加拍摄数量",element:".tips4",intro:`<img src="${this.tipsImg3}" style="width: 540px;height: 180px"/>`,position:"left"},{title:'点击 “<i class="iconfont icon-fz" style="font-size: 14px;color: #796cf3"></i> 复制”按钮，为对应变体，快速创建需求',element:".operate1",intro:`<img src="${this.tipsImg4}" style="width: 540px;height: 180px"/>`,position:"left"},{title:"点击这里，使用表格批量导入需求",element:".tips6",position:"left"}],this.$intro().setOptions(this.introOption).oncomplete((()=>{console.log("点击结束按钮后执行的事件")})).onexit((()=>{console.log("点击跳过按钮后执行的事件")})).onbeforeexit((()=>{console.log("确认完毕之后执行的事件")})).start()}},mounted(){C.Z.state.Index.ExitFullScreen&&(this.Addinfluencers(C.Z.state.Index.influencersList,C.Z.state.Index.influencersListid),C.Z.commit("Index/setExitFullScreen",!1)),this.getneedsIndex()},watch:{tableData(e){e.forEach((e=>{""==e.title&&1==e.influencer_info[0]?.ifinfluencerInfo&&e.id&&this.num!=e.id&&(this.num=e.id,(0,l.$8)({id:e.id,source:1,auth:localStorage.getItem("said")}).then((e=>{1==e.code&&this.reqsearch()})))}))},FillingRequirementsdialogVisible(e){0==e&&(this.RequirementsList=[],this.determine=0)},NotedialogdialogVisible(e){0==e&&1==this.ifGuide&&(this.ifGuide=0,this.initGuide())}}},J=G,W=(0,h.Z)(J,s,a,!1,null,"07b3060e",null),X=W.exports}}]);